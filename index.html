<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no, shrink-to-fit=no" />
<title>KODOK PAGE</title>
<script src="https://cdnjs.cloudflare.com/ajax/libs/three.js/0.160.0/three.min.js"></script>
<script src="https://cdn.jsdelivr.net/gh/mrdoob/three.js@r160/examples/jsm/loaders/GLTFLoader.js"></script>
<script src="https://kit.fontawesome.com/424261530c.js" crossorigin="anonymous"></script>
<style>
* { box-sizing: border-box; 
  -webkit-tap-highlight-color: transparent;
  -webkit-user-select: none;
  -moz-user-select: none;
  -ms-user-select: none;
  user-select: none;
}   

html, body {
  margin:0; padding:0;
  overflow:hidden;
  font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
  background:black;
  height:100%;
  touch-action: pan-y;
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
}

/* Container & Pages */

.page {
  width:100%;
  height:100%;
  flex-shrink: 0;
  overflow-y: auto;
  -webkit-overflow-scrolling: touch;

  color: #222;
  background: transparent;
  display: flex;
  flex-direction: column;
  align-items: center;
  justify-content: flex-start;
  
}

/* --- Page 1: Link Tree --- */
/* Container Page 1 */

@media (max-height: 500px) and (orientation: landscape) {
  .page1 {
    flex-direction: row !important; /* Side-by-side layout */
    justify-content: center;
    align-items: center;
    gap: 30px;
    padding: 0vh 0vw;
  }

  .profile-header {
    margin-bottom: 0;
    flex-shrink: 0;
  }

  .avatar-wrapper {
    width: 80px; /* Smaller avatar */
    height: 80px;
    margin-bottom: 10px;
  }

  .name-premium {
    font-size: 1.2rem;
    margin: 10px 0 5px;
  }

  .tagline {
    font-size: 0.7rem;
    padding: 5px 12px;
  }

  .links-container {
    max-width: 350px;
    gap: 8px; /* Tighter links */
    overflow-y: auto;
    max-height: 90vh;
    padding-bottom: 10px;
        /* margin-bottom: -20px; */
    margin-top: -10px;
  }

  .modern-link {
    padding: 10px 15px;
  }

  .icon-box {
    width: 32px;
    height: 32px;
    font-size: 1rem;
  }
  
  .link-subtitle {
    display: none; /* Hide subtitles to save vertical space */
  }
}

.page1 {
    padding: 5vh 3vw;
  overflow:auto;
    position: relative;
    overflow: hidden; /* Prevent stars from showing outside page boundaries */
    background: url(https://act.hoyoverse.com/sr/event/e20230216gift-97w0/images/bg_mian_pc-sea.3870807c..jpeg) center / cover no-repeat;
            background-color: #000; /* Fallback */
            background-attachment: fixed;
}

#warpCanvas {
    position: absolute;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    z-index: 0; /* Put it behind everything */
    background: radial-gradient(circle at center, #000b1a 0%, #000 60%); 
    mix-blend-mode: screen;
    pointer-events: none;
}
/* Ensure all content in Page 1 sits ABOVE the canvas */
.page1 > *:not(canvas) {
    position: relative;
    z-index: 1;
}

/* Profile Header */
.profile-header {
  text-align: center;
  margin-bottom: 35px;
}

.avatar-wrapper {
  position: relative;
  width: 150px;
  height: 150px;
  margin: 0 auto 15px;
  padding: 3px;
  background: #0f172a; /* Matches your border color */
  border-radius: 130px; /* Squircle base */
  display: flex;
  align-items: center;
  justify-content: center;
  overflow: hidden;
}

/* The Animated Laser Beam */
.avatar-wrapper::before {
  content: '';
  position: absolute;
  width: 200%;
  height: 200%;
  background: conic-gradient(
    transparent, 
    #22c55e, 
    #38bdf8, 
    transparent 30%
  );
  animation: laserRotate 2s linear infinite;
}

/* The "Glow" Filter Layer */
.avatar-wrapper::after {
  content: '';
  position: absolute;
  inset: 0;
  border-radius: 130px;
  box-shadow: inset 0 0 15px rgba(56, 189, 248, 0.5);
  pointer-events: none;
  z-index: 2;
}

.main-avatar {
  width: 90%;
  height: 90%;
  object-fit: cover;
  border-radius: 128px; /* Slightly smaller than wrapper */
  border: 4px solid #0f172a;
  z-index: 1;
  /* Filter to make the avatar feel part of the scene */
  filter: contrast(1.1) brightness(0.9);
  transition: filter 0.3s ease;
}

/* Hover Wow: The "Power Up" */
.avatar-wrapper:hover .main-avatar {
  filter: contrast(1.2) brightness(1.2);
}

.avatar-wrapper:hover::before {
  animation-duration: 0.8s; /* Spins faster on hover */
}

@keyframes laserRotate {
  100% { transform: rotate(360deg); }
}

.status-badge {
  position: absolute;
  bottom: -15px;
  left: 50%;
  transform: translateX(-50%);
  background: rgba(34, 197, 94, 0.2);
  backdrop-filter: blur(10px);
  border: 1px solid rgba(34, 197, 94, 0.5);
  color: #4ade80;
  padding: 2px 12px;
  border-radius: 20px;
  font-size: 0.7rem;
  font-weight: 800;
  letter-spacing: 1px;
}

.name-premium {
  font-size: 1.8rem;
  font-weight: 800;
  margin: 25px 0 5px;
  background: linear-gradient(to bottom, #fff, #94a3b8);
  -webkit-background-clip: text;
  -webkit-text-fill-color: transparent;
}

.tagline {
  color: white;
  padding: 10px 15px 10px 15px;
  font-size: 0.9rem;
  background: linear-gradient(135deg, #22c55e, #38bdf8);
  border-radius: 140px; /* Squircle */
}

/* Links List */
.links-container {
  width: 100%;
  max-width: 400px;
  display: flex;
  flex-direction: column;
  gap: 16px;
  height:100%;
  padding-bottom:50px;
  overflow:auto;
}

.modern-link {
  width: 100%;
  background: rgba(255, 255, 255, 0.04);
  backdrop-filter: blur(12px);
  -webkit-backdrop-filter: blur(12px);
  border: 1px solid rgba(255, 255, 255, 0.1);
  border-radius: 22px;
  padding: 18px;
  display: flex;
  align-items: center;
  justify-content: space-between;
  cursor: pointer;
  transition: all 0.3s ease;
  color: white;
  outline: none;
  color: white;
}



.modern-link:hover {
  background: rgba(0,0,0,0.5);
  box-shadow: 0 12px 20px rgba(0,0,0,0.08);
  -webkit-tap-highlight-color: transparent !important; 

}
* {
  box-sizing: border-box;
  -webkit-tap-highlight-color: transparent;
  -webkit-touch-callout: none;
  user-select: none;
  outline: none;
}


/* Specifically for buttons and links in Firefox */
button::-moz-focus-inner,
a::-moz-focus-inner {
  border: 0;
}

/* Prevent text selection while clicking/dragging (good for UI) */
* {
  -webkit-touch-callout: none;
  -webkit-user-select: none;
  user-select: none;
}
.modern-link:hover .link-text {
  background: linear-gradient(135deg, #22c55e, #38bdf8); /* Forces the text to stay white even on hover */
    -webkit-background-clip: text;
            background-clip: text;
    -webkit-text-fill-color: transparent; Forces the text to stay white even on hover */
}

.modern-link:active .link-text:hover {
   background: linear-gradient(135deg, #22c55e, #38bdf8); /* Forces the text to stay white even on hover */
    -webkit-background-clip: text;
            background-clip: text;
    -webkit-text-fill-color: transparent;
    font-weight: 700;
}



.link-info {
  display: flex;
  align-items: center;
  gap: 15px;
}

.icon-box {
  width: 48px;
  height: 48px;
  border-radius: 14px;
  display: flex;
  align-items: center;
  justify-content: center;
  font-size: 1.4rem;
}

/* Icon Background Colors */
.tiktok-bg { background: rgba(0,0,0,0.4); border-radius:15px; }
.saweria-bg { background: rgba(85, 130, 86 , 0.4); border-radius:15px; }
.joki-bg { background: rgba(37, 38, 92 , 0.4);border-radius:15px; }

.link-text {
  display: flex;
  flex-direction: column;
  text-align: left;
}

.link-title {
  font-weight: 700;
  font-size: 1rem;
}


.link-subtitle {
  font-size: 0.8rem;
  color: #94a3b8;
}

.arrow-icon {
  color: white;
  transition: transform 0.3s;
}

.modern-panel {
  text-align: center;
  color:white;
  max-height: 0;
  overflow: hidden;
  transition: all 0.4s ease;
  padding: 0 16px;
  background: rgba(255,255,255,0.02);
  border-radius: 0 0 22px 22px;
  margin-top: -10px;
  border: 0px solid rgba(255,255,255,0.05);
}

.link-item.active .modern-panel {
  max-height: 160px;
  background: rgba(255,255,255,0.02);
  backdrop-filter: blur(10px);
  padding: 25px 16px 16px;
  border-width: 0 1px 1px 1px;
}

.link-item.active .modern-link {
  border-bottom-left-radius: 0;
  border-bottom-right-radius: 0;
  background: rgba(255, 255, 255, 0.08);
}

.link-item.active .arrow-icon {
  transform: rotate(180deg);
}

.action-btn {
  width: 100%;
  margin-top: 10px;
  padding: 12px;
  border-radius: 12px;
  border: none;
  background: #1e293b;
  color: white;
  font-weight: 600;
  cursor: pointer;
}

.joki-btn-color {
  background: #059669 !important;
}



/* Link Tree Card */
.linktree-card {
  background: #ffffff;
  border-radius: 20px;
  padding-bottom: 20px;
  width: 90vw;
  max-width: 360px;
  box-shadow: 0 8px 24px rgb(145, 184, 155 / 0.4);
  display: flex;
  flex-direction: column;
  align-items: center;
  margin-bottom: 30px;
}

.profile-photo {
  width: 90vw;
  max-width: 360px;
  max-height: 150px;
  border-radius: 20px 20px 0 0;
  object-fit: cover;
  margin-bottom: 15px;
  opacity: 0;
  transition: opacity 0.4s ease;
}

.profile-photo[src] {
  opacity: 1;
}

.tabs {
  display: flex;
  gap: 10px;
  margin-bottom: 16px;
}


.tab-btn {
  flex: 1;
  padding: 10px 0;
  background: #ffffff;
  border: none;
  width: 80px;
  max-width: 80px;
  border-radius: 8px;
  cursor: pointer;
  transition: background 0.3s;
  
}

.tab-btn.active {
  background: #fad57f;
  color: #fff;
}


.name {
  font-weight: 700;
  font-size: 1.3rem;
  margin: 0 0 6px 0;
  text-align: center;
}

.desc {
  font-size: 0.9rem;
  color: #444;
  text-align: center;
  margin-bottom: 15px;
}

.btn-message {
  background: #ec1a8f;
  color: white;
  border: none;
  border-radius: 25px;
  padding: 10px 35px;
  font-weight: 700;
  font-size: 1rem;
  cursor: pointer;
  transition: background-color 0.3s ease;

  -webkit-tap-highlight-color: transparent;
  outline: none;
  user-select: none;
}

.btn-message:hover {
  background: #c2177d;
}

/* Link Buttons */
.links {
  width: 90vw;
  max-width: 360px;
  display: flex;
  flex-direction: column;
  gap: 15px;
}


.link-btn {
  white-space: nowrap;
  overflow: hidden;
  text-overflow: ellipsis;
  width: 90vw;
  max-width: 360px;
  background: #ffffff;
  border-radius: 10px;
  border: none;
  padding: 14px 20px;
  font-weight: 600;
  font-size: 1rem;
  text-align: left;
  cursor: pointer;
  display: flex;
  align-items: center;
  gap: 12px;
  color: #222;
  box-shadow: 0 8px 24px rgb(145, 184, 155 / 0.4);
  transition: background-color 0.3s ease;
  margin-top: 13px;
  -webkit-tap-highlight-color: transparent;
  outline: none;
  user-select: none;
  position: relative;
}

.link-btn:hover {
  background: #628c6d;
}

/* Icons for links using emoji placeholders */
.link-btn span {
  font-size: 1.2rem;
  display: inline-block;
  width: 28px;
  text-align: center;
}

/* Collapse panel container */
.collapse-panel {
  overflow: hidden;
  max-height: 0;
  padding-top: 0;
  padding-bottom: 0;
  transition:
    max-height 0.35s ease,
    padding-top 0.35s ease,
    padding-bottom 0.35s ease;
  padding-left: 14px;
  margin-top: -13px;
  color: #666;
  font-size: 0.9rem;
  background: #edfff2;
  border-radius: 10px;
  box-shadow: 0 8px 24px rgb(145, 184, 155 / 0.4);
  user-select: none;
  display: flex;
  align-items: center;
  justify-content: space-between;
}

.collapse-panel.open {
  max-height: 90px; /* adjust if needed */
  padding-top: 25px;
  padding-bottom: 8px;
}


/* Visit button inside collapse */
.collapse-panel button.visit-btn {
  background: #628c6d;
  color: white;
  border: none;
  border-radius: 18px;
  padding: 6px 16px;
  font-weight: 600;
  font-size: 0.9rem;
  cursor: pointer;
  transition: background-color 0.3s ease;
  margin-right:10px;
  -webkit-tap-highlight-color: transparent;
  outline: none;
  user-select: none;
}

.collapse-panel button.visit-btn:hover {
  background: #789e82;
}

/* --- Page 2 and 3 --- */

.section-header {
  position: relative;
  height: 120px;
  border-radius: 16px;
  overflow: hidden;
  margin-bottom: 16px;
  display: flex;
  align-items: flex-end;
  padding: 14px 16px;
  box-shadow: 0 10px 30px rgba(0,0,0,0.45);
  background-size: cover;
  background-position: center;
}

.section-header::after {
  content: "";
  position: absolute;
  inset: 0;
  background: linear-gradient(
    to top,
    rgba(0,0,0,0.75),
    rgba(0,0,0,0.25)
  );
}

.section-header h3 {
  position: relative;
  margin: 0;
  font-size: 1.2rem;
  font-weight: 700;
  z-index: 1;
}




.page3 {
  background: #064e3b;
  margin-left: -2px;
}

/* Island dot indicator */
.island {
  position: fixed;
  top: 2vh;
  left: 50%;
  transform: translateX(-50%);
  background: rgba(0,0,0,0.75);
  backdrop-filter: blur(14px);
  padding: 1vh 3vw;
  border-radius: 999px;
  display: flex;
  gap: 2vw;
  opacity: 0;
  transition: opacity 0.25s ease;
  pointer-events: none;
  z-index: 999;
}

.island.show {
  opacity: 1;
  transition: all 0.25s ease;
}

.dot-wrapper {
  position: relative;
  width: 113px;
  height: 14px;
}

.dot {
  width: 8px;
  height: 8px;
  background: #666;
  border-radius: 50%;
  position: absolute;
  top: 0;
  margin-top:3px;
  transition: all 0.25s ease;
}

.dot-indicator {
  position: absolute;
  top: 0;
  width: 14px;
  height: 14px;
  border-radius: 50%;
  background: white;
  transition: left 0.22s linear;
}

/* FAB Buttons for desktop */
.fab {
  position: fixed;
  top: 50%;
  transform: translateY(-50%);
  background: rgba(255 255 255 / 0.2);
  backdrop-filter: blur(10px);
  color: white;
  border: none;
  border-radius: 50%;
  width: 44px;
  height: 44px;
  font-size: 24px;
  cursor: pointer;
  display: none;
  align-items: center;
  justify-content: center;
  user-select: none;
  z-index: 1000;
  transition: background-color 0.3s ease;
}

.fab:hover {
  background: rgba(255 255 255 / 0.4);
}

.fab-left {
  left: 12px;
}

.fab-right {
  right: 12px;
}

/* Show FAB on desktop */
@media (min-width: 800px) {
  .fab {
    display: flex;
  }
}


/* Code card style */

.code-row {
  display: flex;
  justify-content: space-between;
  align-items: center;
  gap: 12px;
}

.code-text {
  color: white;
  font-size: 0.95rem;
  word-break: break-all;
}

.copy-btn {
  background: #38bdf8;
  color: #020617;
  border: none;
  border-radius: 999px;
  padding: 6px 14px;
  cursor: pointer;
  flex-shrink: 0;
}

.buttons-group {
  display: flex;
  gap: 8px;
}


.copy-btn, .redeem-btn {
  padding: 6px 12px;
  border: none;
  border-radius: 6px;
  cursor: pointer;
}

.copy-btn {
  background: #22c55e;
  color: white;
}

.redeem-btn {
  background: #38bdf8;
  color: #020617;
}

.copy-btn:active, .redeem-btn:active {
  transform: scale(0.95);
}

/* For Chrome, Safari, and Opera */
.scrollable-element::-webkit-scrollbar {
    display: none;
}

/* For Firefox */
.scrollable-element {
    scrollbar-width: none;
}

/* For Internet Explorer and Edge */
.scrollable-element {
    -ms-overflow-style: none;
}

body::-webkit-scrollbar {
    display: none; /* Chrome, Safari, Opera */
}
body {
    scrollbar-width: none; /* Firefox */
    -ms-overflow-style: none; /* IE and Edge */
}

.container {
  /* Change width: 300vw to generic width */
  width: 100%; 
  display: flex;
  height: 100vh;
  /* ... existing styles ... */
}

/* FIX 3: Styling for the API description */
.code-desc {
  font-size: 0.8rem;
  color: #94a3b8;
  margin-top: 6px;
  line-height: 1.4;
}

/* FIX 4: Ensure Link Tree buttons don't overflow on small screens */
.link-btn {
  /* existing styles */
  white-space: nowrap;
  overflow: hidden;
  text-overflow: ellipsis;
}
.title-font {
    font-family: titleFont, impact;
}

.codes-container{
  padding-bottom:50px ;

}
.page4{
background: url(https://act.hoyoverse.com/sr/event/e20230216gift-97w0/images/bg_mian_pc-sea.3870807c..jpeg) center / cover no-repeat;
            background-color: #000;  
    
}

.page5 {
    /* Existing styles... */
    background: url('https://upload-os-bbs.hoyolab.com/upload/2025/05/02/251990923/634be8c6e6e4c8236b96242440c5db62_7278220409140988355.jpg') center / cover no-repeat;
    transition: background-image 0.5s ease-in-out;
    background-size: cover;
    background-position: center;
      background-color: rgba(0, 0, 0, 0.7); /* The color to blend in */
    background-blend-mode: darken;
}

.radial-menu-layer {
  position: fixed;
  inset: 0;
  z-index: 5000;
  pointer-events: none;
  background: rgba(255,255,255,0.0);
}

.menu-dim {
  position: fixed;
  inset: 0;
  background: rgba(0, 0, 0, 0.52); /* üî• 90% dim */
  opacity: 0;
  pointer-events: none;
  transition: all 1s ease;
  z-index: 4000;
  backdrop-filter: blur(5px);
}

.menu-dim.active {
  opacity: 1;
  pointer-events: auto; /* supaya klik luar bisa nutup */
}
.menu-wrapper {
  position: fixed;
  bottom: 24px;
  right: 24px;
  width: 68px;
  height: 68px;
  z-index: 5000;
  pointer-events: auto;
  touch-action: manipulation;
}
.pathlogo{
    background:
    linear-gradient(rgba(0, 0, 0, 0.8), rgba(0, 0, 0, 0.8)),
    url("https://gamebrott.com/wp-content/uploads/2023/08/image-47.png");
     background-size: cover;
    background-position: center;
}
.hold-button {
  width: 0%;
  height: 0%;
  border-radius: 50%;
  background: rgba(255,255,255,0.0);
  backdrop-filter: blur(8px);
  box-shadow: 0 6px 18px rgba(0,0,0,.25);
}
  /* Initial hidden state */
.menu-container {
  position: fixed;
  top: 50%;
  left: 50%;
  transform: translate(-50%, -50%) scale(0.7);

  opacity: 0;
  pointer-events: none;
  transition: opacity 0.3s ease, transform 1s ease;
  z-index: 5000;
}

.menu-container.active {
  opacity: 1;
  transform: translate(-50%, -50%) scale(1);
  pointer-events: auto;
  
}


.menu-container:not(.active) {
  pointer-events: none;
}
  .circular-ring {
    position: relative;
    width: var(--menu-size);
    height: var(--menu-size);
    
  }

  .svg-layer {
    width: 100%;
    height: 100%;
    transform: rotate(-108deg);
    overflow: visible;
  }

  .ring-slice {
    fill: none;
    stroke: var(--bg);
    stroke-width: 24;
    stroke-dasharray: 47.75 238.76;
    transform-origin: center;
    transform: rotate(calc(var(--i) * 72deg));
    backdrop-filter: blur(55px);
      -webkit-backdrop-filter: blur(55px);
    transition: stroke-width 0.7s ease, filter 0.3s ease;
    cursor: pointer;
    
  }

  .ring-slice:hover {
    stroke-width: 26;
    stroke: rgba(255, 255, 255, 0.5);
    transition: all 1.5 ease;
    filter: brightness(1.15);
    
  }

  .content-node {
    position: absolute;
    top: 50%;
    left: 50%;
    width: 80px;
    height: 60px;
    margin-top: -30px;
    margin-left: -40px;
    display: flex;
    flex-direction: column;
    justify-content: center;
    align-items: center;
    pointer-events: none;
    z-index: 10;
    transform: translate(
      calc(var(--content-radius) * cos(var(--angle) - 90deg)),
      calc(var(--content-radius) * sin(var(--angle) - 90deg))
    );
  }
  .content-node:hover {
    transform: scale(0.9)!important;
  }
  
  .icon { font-size: 28px; margin-bottom: 2px; }
  .icon:hover {
    transform: scale(2) !important;
  }
  .label {
    font-size: 7px;
    color: white;
    font-weight: 800;
    text-transform: uppercase;
    text-shadow: 0 2px 4px rgba(0,0,0,0.5);
  }
  #page2 {
      min-height: 100vh;
      width: 100%;
      background-size: cover;
      background-position: center;
      background-repeat: no-repeat;
      background-attachment: fixed;
      transition: background-image 0.5s ease-in-out;
      position: relative;
      display: flex;
      flex-direction: column;
      background-color: rgba(0, 0, 0, 0.3);
      background-blend-mode: darken;
    }

    #page2::before {
      content: "";
      position: absolute;
      top: 0; left: 0; right: 0; bottom: 0;
      z-index: 0;
    }

    #page2 .content {
      position: relative;
      z-index: 1;
      padding: 20px 10px;
      width: 100%;
      min-height: 100vh;
    }
    
    .e-tilt {
  display: inline-block; /* Required for transform to work */
  transform: skewX(-15deg); /* Negative degrees tilt to the right */
}

    /* --- LOGO HEADER & ANIMASI BOUNCE --- */
    .header-logo-container {
      text-align: center;
      margin-bottom: 25px;
      height: 80px;
      display: flex;
      flex-direction: column;
      align-items: center;
      justify-content: center;
    }

    #game-logo-header {
      height: 100px;
      width: auto;
      object-fit: contain;
      filter: drop-shadow(0 8px 20px rgba(0,0,0,0.6));
      will-change: transform, opacity;
    }

    @keyframes logoBounceRotate {
      0% { opacity: 0; transform: scale(0.3) rotate(-45deg); }
      50% { opacity: 1; transform: scale(1.1) rotate(10deg); }
      70% { transform: scale(0.9) rotate(-5deg); }
      100% { transform: scale(1) rotate(0deg); }
    }

    .animate-logo {
      animation: logoBounceRotate 0.8s cubic-bezier(0.175, 0.885, 0.32, 1.275) forwards;
    }

    /* --- ANIMASI CARD --- */
    @keyframes slidePop {
      0% { opacity: 0; transform: translateX(30px) scale(0.9); }
      70% { transform: translateX(-5px) scale(1.02); }
      100% { opacity: 1; transform: translateX(0) scale(1); }
    }

    .reveal-card {
      animation: slidePop 0.4s cubic-bezier(0.34, 1.56, 0.64, 1) forwards;
      opacity: 0;
    }

    /* --- TABS --- */
    .tabs-v2 {
      display: flex;
      justify-content: center;
      gap: 8px;
      margin-bottom: 25px;
    }

    .tab-btn-v2 {
      background: rgba(255, 255, 255, 0.1);
      border: 1px solid rgba(255, 255, 255, 0.15);
      color: rgba(255,255,255,0.7);
      padding: 10px 16px;
      border-radius: 12px;
      font-size: 0.75rem;
      cursor: pointer;
      font-weight: bold;
      transition: all 0.3s;
    }

    .tab-btn-v2.active {
      background: #fff;
      color: #000;
      transform: translateY(-3px);
      box-shadow: 0 5px 15px rgba(255,255,255,0.2);
    }

    /* --- CARD STYLING --- */
    .redeem-card-v2 {
      background: rgba(20, 20, 25, 0.2);
      backdrop-filter: blur(15px);
      -webkit-backdrop-filter: blur(15px);
      border: 1px solid rgba(255, 255, 255, 0.08);
      border-radius: 18px;
      padding: 18px;
      margin: 0 auto 15px auto;
      width: 92%;
      max-width: 420px;
      box-shadow: 0 10px 30px rgba(0,0,0,0.5);
    }

    .redeem-header-v2 {
      display: flex;
      justify-content: space-between;
      align-items: center;
      margin-bottom: 12px;
    }

    .code-v2 {
      font-family: 'Monaco', 'Consolas', monospace;
      font-weight: 800;
      font-size: 0.8rem;
      color: #fff;
      letter-spacing: 1px;
    }

    .btn-group-v2 { display: flex; gap: 8px; }
    .btn-v2 { padding: 8px 14px; border-radius: 10px; border: none; font-size: 0.7rem; font-weight: 900; cursor: pointer; transition: 0.2s; }
    .btn-copy-v2 { background: #6366f1; color: white; }
    .btn-redeem-v2 { background: #10b981; color: white; }
    .btn-v2:active { transform: scale(0.9); }

    .loading-v2 {
      text-align: center;
      color: white;
      margin-top: 50px;
      letter-spacing: 2px;
      font-weight: bold;
      font-size: 0.8rem;
      opacity: 0.7;
    }
    .joki-master-container {
            /* Mencegah terpotong oleh header fixed website utama */
            padding-top: 0px; 
            position: relative;
            display: block;
            clear: both;
            
            --joki-bg: #0c101d;
            --joki-panel: rgba(22, 29, 45, 0.95);
            --joki-gold: #f2c94c;
            --joki-blue: #4cc9f0;
            --joki-silver: #ececec;
            --joki-border: rgba(76, 201, 240, 0.3);
            
            background-color: var(--joki-bg);
            background-image: radial-gradient(circle at 20% 30%, rgba(76, 201, 240, 0.1) 0%, transparent 40%);
            color: var(--joki-silver);
            font-family: 'Segoe UI', Arial, sans-serif;
            padding-bottom: 50px;
            width: 100%;
        }

        .joki-header {
            /* Perbaikan Utama: Menggunakan min-height agar tinggi fleksibel di mobile */
            min-height: 200px;
            padding: 40px 20px; 
            background: linear-gradient(to bottom, rgba(12, 16, 29, 0.5), var(--joki-bg)), 
                        url('https://fastcdn.hoyoverse.com/content-v2/hkrpg/161539/f40835cbd720d841de83551695162970_9071788954763536383.png') center/cover;
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            border-bottom: 2px solid var(--joki-gold);
            text-align: center;
            box-sizing: border-box;
        }

        .joki-header-title {
            /* Font akan mengecil otomatis di layar kecil */
            font-size: clamp(1.8rem, 8vw, 2.8rem); 
            color: var(--joki-silver);
            text-shadow: 0 0 15px rgba(76, 201, 240, 0.8);
            letter-spacing: 3px;
            margin: 0;
            font-weight: 800;
            line-height: 1.2;
        }

        .joki-content-wrapper {
            max-width: 1100px;
            margin: 0 auto;
            padding: 30px 50px;
        }

        .joki-section-title {
            margin: 30px 0 10px;
            display: flex;
            align-items: center;
            gap: 12px;
            color: white;
            text-transform: uppercase;
            font-size: 1.3rem;
            font-weight: bold;
            background: url("https://i.ibb.co.com/hRjrBn79/bg.png");
          background-size: contain;
          background-position: left;
          background-repeat: no-repeat;
          background-size: 100%;
          margin-bottom: 12px;
          margin-left: .1rem;
          margin-right: auto;
          padding-left: 35px;
        }

        .joki-section-line {
            width: 0px;
            height: 20px;
            background: var(--joki-gold);
            box-shadow: 0 0 8px var(--joki-gold);
        }

        .joki-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
            gap: 15px;
        }

        .joki-card {
    background: var(--joki-panel);
    border: 1px solid var(--joki-border);
    padding: 25px;
    display: flex;
    flex-direction: column;
    position: relative;
    transition: 0.3s;
    
    /* Ukuran lengkungan gigitan */
    --bite-size: 25px;

    /* Teknik Masking untuk membuat potongan melengkung ke dalam */
    mask: 
        radial-gradient(var(--bite-size) at 100% 0, #0000 98%, #000) 100% 0 / 100% 100% no-repeat,
        radial-gradient(var(--bite-size) at 0 100%, #0000 98%, #000) 0 100% / 100% 100% no-repeat;
    mask-composite: intersect;
    
    /* Prefix untuk browser Chrome/Safari/Edge */
    -webkit-mask: 
        radial-gradient(var(--bite-size) at 100% 0, #0000 98%, #000),
        radial-gradient(var(--bite-size) at 0 100%, #0000 98%, #000);
    -webkit-mask-composite: destination-in;

    /* Mencegah card menciut di mobile portrait */
    min-height: 200px;
    width: 100%;
    box-sizing: border-box;
    margin-top: 12px ;
}

.joki-card-cw {
    background: linear-gradient(to bottom, rgba(12, 16, 29, 0.5), var(--joki-bg)), 
                        url('https://fastcdn.hoyoverse.com/mi18n/hkrpg_global/m20250925hy2dumqghs/upload/ad5bd5eca79cda2769a57d8f8145aa65_8984740248685669097.png') center/cover;
            
    border: 1px solid var(--joki-border);
    padding: 25px;
    display: flex;
    flex-direction: column;
    position: relative;
    transition: 0.3s;
    
    /* Ukuran lengkungan gigitan */
    --bite-size: 25px;

    /* Teknik Masking untuk membuat potongan melengkung ke dalam */
    mask: 
        radial-gradient(var(--bite-size) at 100% 0, #0000 98%, #000) 100% 0 / 100% 100% no-repeat,
        radial-gradient(var(--bite-size) at 0 100%, #0000 98%, #000) 0 100% / 100% 100% no-repeat;
    mask-composite: intersect;
    
    /* Prefix untuk browser Chrome/Safari/Edge */
    -webkit-mask: 
        radial-gradient(var(--bite-size) at 100% 0, #0000 98%, #000),
        radial-gradient(var(--bite-size) at 0 100%, #0000 98%, #000);
    -webkit-mask-composite: destination-in;

    /* Mencegah card menciut di mobile portrait */
    min-height: 200px;
    width: 100%;
    box-sizing: border-box;
    margin-top: 12px ;
}

        .joki-card-cw:hover {
            border-color: var(--joki-gold);
            transform: translateY(-5px);
            box-shadow: 0 10px 25px rgba(0,0,0,0.6);
            transition: all 1.25s ease;
        }
        
        
.joki-card-ev {
    background: linear-gradient(to bottom, rgba(12, 16, 29, 0.5), var(--joki-bg)), 
                        url('https://static.wikia.nocookie.net/houkai-star-rail/images/e/e3/Event_Chrysos_Awoo_Championship.png') center/cover;
            
    border: 1px solid var(--joki-border);
    padding: 25px;
    display: flex;
    flex-direction: column;
    position: relative;
    transition: 0.3s;
    
    /* Ukuran lengkungan gigitan */
    --bite-size: 25px;

    /* Teknik Masking untuk membuat potongan melengkung ke dalam */
    mask: 
        radial-gradient(var(--bite-size) at 100% 0, #0000 98%, #000) 100% 0 / 100% 100% no-repeat,
        radial-gradient(var(--bite-size) at 0 100%, #0000 98%, #000) 0 100% / 100% 100% no-repeat;
    mask-composite: intersect;
    
    /* Prefix untuk browser Chrome/Safari/Edge */
    -webkit-mask: 
        radial-gradient(var(--bite-size) at 100% 0, #0000 98%, #000),
        radial-gradient(var(--bite-size) at 0 100%, #0000 98%, #000);
    -webkit-mask-composite: destination-in;

    /* Mencegah card menciut di mobile portrait */
    min-height: 200px;
    width: 100%;
    box-sizing: border-box;
    margin-top: 12px ;
}

        .joki-card-ev:hover {
            border-color: var(--joki-gold);
            transform: translateY(-5px);
            box-shadow: 0 10px 25px rgba(0,0,0,0.6);
            transition: all 1.25s ease;
        }

.joki-card-new {
    background: linear-gradient(to bottom, rgba(12, 16, 29, 0.5), var(--joki-bg)), 
                        url('https://fastcdn.hoyoverse.com/content-v2/hkrpg/161539/f40835cbd720d841de83551695162970_9071788954763536383.png') center/cover;
            
    border: 1px solid var(--joki-border);
    padding: 25px;
    display: flex;
    flex-direction: column;
    position: relative;
    transition: 0.3s;
    
    /* Ukuran lengkungan gigitan */
    --bite-size: 25px;

    /* Teknik Masking untuk membuat potongan melengkung ke dalam */
    mask: 
        radial-gradient(var(--bite-size) at 100% 0, #0000 98%, #000) 100% 0 / 100% 100% no-repeat,
        radial-gradient(var(--bite-size) at 0 100%, #0000 98%, #000) 0 100% / 100% 100% no-repeat;
    mask-composite: intersect;
    
    /* Prefix untuk browser Chrome/Safari/Edge */
    -webkit-mask: 
        radial-gradient(var(--bite-size) at 100% 0, #0000 98%, #000),
        radial-gradient(var(--bite-size) at 0 100%, #0000 98%, #000);
    -webkit-mask-composite: destination-in;

    /* Mencegah card menciut di mobile portrait */
    min-height: 200px;
    width: 100%;
    box-sizing: border-box;
    margin-top: 12px ;
}

        .joki-card-new:hover {
            border-color: var(--joki-gold);
            transform: translateY(-5px);
            box-shadow: 0 10px 25px rgba(0,0,0,0.6);
            transition: all 1.25s ease;
        }
        
        .joki-card:hover {
            border-color: var(--joki-gold);
            transform: translateY(-5px);
            box-shadow: 0 10px 25px rgba(0,0,0,0.6);
            transition: all 1.25s ease;
        }

        .joki-card-h3 {
            font-size: 1.1rem;
            margin: 0 0 10px 0;
            color: var(--joki-silver);
            border-left: 3px solid var(--joki-gold);
            padding-left: 10px;
        }

        .joki-card-price {
            font-size: 1.3rem;
            font-weight: bold;
            color: var(--joki-gold);
            margin: 10px 0;
        }
        
        .joki-category-desc{
          margin-bottom: 10px;
          color: #e9e9e9;
        }

        .joki-btn {
            background: rgba(255, 255, 255, 0.05);
            color: var(--joki-silver);
            border: 1px solid var(--joki-blue);
            padding: 12px;
            cursor: pointer;
            font-weight: bold;
            text-transform: uppercase;
            width: 100%;
            transition: 0.2s;
            
        }

        .joki-btn:hover {
            background: var(--joki-blue);
            color: #000;
        }

        /* MEDIA QUERY KHUSUS MOBILE PORTRAIT */
        @media (max-width: 480px) {
            .joki-master-container {
                /* Tambahkan padding top jika header web aslimu tipe 'Sticky/Fixed' */
                padding-top: 0px; 
            }
            .joki-header {
                min-height: 160px;
                padding: 30px 15px;
            }
            .joki-section-title {
            margin: 30px 0 10px;
            display: flex;
            align-items: center;
            gap: 12px;
            color: var(--joki-blue);
            text-transform: uppercase;
            font-size: 1.3rem;
            font-weight: bold;
            background: url("https://i.ibb.co.com/hRjrBn79/bg.png");
          background-size: contain;
          background-position: left;
          background-repeat: no-repeat;
          background-size: 100%;
          margin-bottom: 2px;
          margin-left: .1rem;
          margin-right: auto;
          padding-left: 25px;
        }
        }
        .joki-tag-container {
    display: flex;
    flex-direction: column;
    gap: 5px; /* Memberi jarak antar baris */
}

.joki-row {
    display: flex;
    justify-content: space-between; /* Menarik teks ke kiri dan harga ke kanan */
    align-items: center;
    width: 100%;
    margin: 5px;
}


        .gc-container {
            padding: 10px;
            color: #fff;
            max-width: 100%;
            touch-action: pan-x pan-y !important; 
        }

        /* TAB BUTTONS */
        .gc-tabs {
            display: flex;
            width: 100%;
            gap: 6px;
            margin-bottom: 20px;
            overflow-x: auto;
            padding-bottom: 5px;
        }

        .gc-tab-btn {
            flex: 1;
            width: 200px;
            padding: 10px 5px;
            border: 1px solid var(--border);
            background: var(--glass);
            color: #fff;
            border-radius: 7px;
            font-weight: bold;
            font-size: 0.7rem;
            text-transform: uppercase;
            cursor: pointer;
            transition: all 0.2s;
        }

        .gc-tab-btn.active[data-game="genshin"] { background: var(--accent); color: #000; border-color: var(--accent); }
        .gc-tab-btn.active[data-game="hsr"] { background: var(--hsr-accent); color: #000; border-color: var(--hsr-accent); }
        .gc-tab-btn.active[data-game="zzz"] { background: var(--zzz-accent); color: #000; border-color: var(--zzz-accent); }
        .gc-tab-btn.active[data-game="hi3"] { background: var(--hi3-accent); color: #000; border-color: var(--hi3-accent); }

        .gc-title {
            font-size: 1.1rem;
            font-weight: bold;
            color: var(--accent);
            margin: 20px 0 10px;
            text-transform: uppercase;
            border-left: 3px solid var(--accent);
            padding-left: 10px;
        }
        /* Specific Glow Colors based on the active tab */
.gc-tab-btn.active[data-game="genshin"] ~ .gc-content .e-card:hover { 
    box-shadow: 0 0 20px rgba(255, 211, 105, 0.4); 
    border-color: #ffd369; 
    transition: all 0.3s ease;
}
.gc-tab-btn.active[data-game="hsr"] ~ .gc-content .e-card:hover { 
    box-shadow: 0 0 20px rgba(105, 211, 255, 0.4); 
    border-color: #69d3ff; 
    transition: all 0.3s ease;
}
.gc-tab-btn.active[data-game="zzz"] ~ .gc-content .e-card:hover { 
    box-shadow: 0 0 20px rgba(157, 255, 105, 0.4); 
    border-color: #9dff69; 
    transition: all 0.3s ease;
}
        .banner-row { display: flex; flex-direction: column; gap: 12px; padding-bottom: 10px; }
        .b-card { width: 100%; background: linear-gradient(135deg, #1a1a1a, #000); border: 1px solid var(--border); border-radius: 12px; padding: 12px; }
        .b-head { display: flex; justify-content: space-between; margin-bottom: 8px; font-size: 0.85rem; }
        .b-icons { display: flex; gap: 5px; flex-wrap: wrap; }
        .m-icon { width: 45px; height: 45px; border-radius: 8px; background: var(--glass); border: 1px solid var(--border); object-fit: cover;}

        .e-grid { display: flex; flex-direction: column; gap: 15px; transition: all 2.3s ease; }
            
            .e-card {text-decoration: none !important;
    transition: all 2.3s ease;
    position: relative;
    overflow: hidden;
    border : solid 1px #fff;
    border-radius: 10px;/* Needed for the shimmer effect */
}

.e-thumb{width: 100%;
        object-fit: cover;
        background-size: cover;
        background-position: center;
}
.e-card:hover {
    transform: translateY(-15px) scale(1.05) rotateX(8deg) rotateY(-5deg) !important; 
    transition: all 4.4s ease !important;
    z-index: 10;
    border-color: #38bdf8; /* Uses your theme blue */
    box-shadow: 
        0 0 20px rgba(56, 189, 248, 0.4), /* Outer Glow */
        0 25px 50px rgba(0, 0, 0, 0.7);
    filter: brightness(1.1);
}

/* The "Shimmer" Flash effect */
.e-card::after {
    content: '';
    position: absolute;
    top: -50%;
    left: -60%;
    width: 20%;
    height: 200%;
    background: linear-gradient(
        to right, 
        rgba(255,255,255,0) 0%, 
        rgba(255,255,255,0.3) 50%, 
        rgba(255,255,255,0) 100%
    );
    transform: rotate(30deg);
    transition: all 1.4s ease !important;
}

.e-card:hover::after {
    left: 120%;
    transition: all 1.4s ease !important;
}

/* Efek saat ditekan (untuk mobile) */
.e-card:active {
    transform: scale(0.97);
    transition: all 1.4s ease;
}
        .e-date {
            display: inline-block;
            background: var(--accent);
            color: #000;
            font-weight: 800;
            font-size: 0.7rem;
            padding: 2px 10px;
            border-radius: 4px;
            margin-bottom: 8px;
            text-transform: uppercase;
        }

        .e-name {color: #ffffff !important; text-decoration: none !important; font-weight: bold; font-size: 1rem; margin-bottom: 5px; line-height: 1.2; }
        .e-desc { font-size: 0.82rem; color: #ccc; line-height: 1.4; margin-bottom: 10px; }
        .e-name a, a.e-name {
    color: inherit;
    text-decoration: none !important;
}
        .r-row {
            display: flex; gap: 8px; background: rgba(0,0,0,0.4);
            padding: 8px; border-radius: 8px; overflow-x: auto;
        }
        .r-item { display: flex; flex-direction: column; align-items: center; min-width: 35px; }
        .r-img { width: 25px; height: 25px; object-fit: contain; }
        .r-amt { font-size: 0.6rem; color: var(--accent); }
        .calendar-content{padding-bottom:50px;}
        .loader { text-align: center; padding: 50px; font-size: 0.8rem; color: #888; text-transform: uppercase; letter-spacing: 1px;}
    
   /* =========================================================
   MASONRY EVENT GRID ‚Äì RESPONSIVE (PORTRAIT + LANDSCAPE)
   ========================================================= */

/* Base (Portrait / Mobile) */
.page5 .e-grid {
    display: block;
    column-count: 1;
    column-gap: 14px;
    transition: all 2.3s ease;
}

/* Landscape phones */
@media (orientation: landscape) and (min-width: 480px) {
    .page5 .e-grid {
        column-count: 2;
        transition: all 2.3s ease;
    }
}

/* Tablets / large landscape / desktop */
@media (orientation: landscape) and (min-width: 900px) {
    .page5 .e-grid {
        column-count: 3;
        transition: all 2.3s ease;
    }
}

/* Masonry card rules */
.page5 .e-card {
    display: inline-block;
    width: 100%;
    margin-bottom: 14px;
    break-inside: avoid;
    -webkit-column-break-inside: avoid;
    page-break-inside: avoid;
    transition: all 2.3s ease;
}

/* Optional: reduce vertical bulk in landscape */
@media (orientation: landscape) {
    .page5 .e-body {
        padding: 10px;
    }

    .page5 .e-desc {
        font-size: 0.78rem;
        line-height: 1.35;
    }
}

/* Optional: smooth appearance */
.page5 .e-card {
    animation: masonryFade 0.35s ease both;
    transition: all 3.3s ease;
}

@keyframes masonryFade {
    from {
        opacity: 0;
        transform: translateY(12px);
    }
    to {
        opacity: 1;
        transform: translateY(0);
    }
}


/* Wider landscape (tablets / foldables / desktop landscape) */
@media (min-width: 900px) and (orientation: landscape) {
    .page5 .e-grid {
        grid-template-columns: repeat(3, 1fr);
        transition: all 0.3s ease;
    }
}
:root {
        --sr-blue: #007bff;
        --sr-accent: #f29d38;
        --sr-bg-card: rgba(255, 255, 255, 0.08);
        --sr-border: rgba(255, 255, 255, 0.15);
        --menu-size: 380px;
        --content-radius: 135px; 
        --accent: #ffd369;
        --hsr-accent: #69d3ff;
        --zzz-accent: #9dff69; 
        --hi3-accent: #ff85d0;
        --glass: rgba(255, 255, 255, 0.08);
        --border: rgba(255, 255, 255, 0.15);
      }

      #game-downloader-container {
        font-family: Arial, sans-serif;
        padding: 20px;
        width: 100%;
      }
    
    .extra-tilt2 {
  display: inline-block; /* Required for transform to work */
  transform: skewX(-15deg); /* Negative degrees tilt to the right */
}
      /* Game Selector Tabs */
      .resource-tabs {
        display: flex;
        gap: 8px;
        margin-bottom: 25px;
        justify-content: center;
        flex-wrap: wrap;
      }

      /* TRANSITION LOGIC */
      .content-fade {
        transition: opacity 0.4s ease-in-out, transform 0.4s ease-out;
        opacity: 1;
      }
      .content-fade.is-hidden {
        opacity: 0;
        transform: translateY(10px);
      }

      /* Banner Container */
      .resource-banner {
        margin: 0 auto;
        width: 100%;
        max-width: 1000px;
        aspect-ratio: 16 / 9;
        position: relative;
        overflow: hidden;
        border-radius: 12px;
        background: transparent;
        box-shadow: 0 10px 30px rgba(0,0,0,0.5);
      }

      .slide-layer {
        position: absolute;
        top: 0; left: 0;
        width: 100%; height: 100%;
        opacity: 0;
        transition: opacity 1s ease-in-out;
        z-index: 1;
        object-fit: cover;
        background-size: cover;
        background-position: center;
      }

      .slide-layer.active {
        opacity: 1;
        z-index: 2;
      }

      .resource-banner-content {
        position: absolute;
        bottom: 0; left: 0; width: 100%;
        z-index: 10;
        padding: 20px;
        background: linear-gradient(transparent, rgba(0,0,0,0.85));
        pointer-events: none;
      }

      .resource-banner-content h1 { margin: 0; font-size: 20px; color: #fff; text-transform: uppercase; }
      .resource-banner-content h2 { margin: 5px 0 0; font-size: 13px; color: var(--sr-accent); font-weight: 400; border:none;}

      /* Tilted UI Tags */
      .type-tag { 
        position: absolute; 
        top: 0; right: 0; 
        font-size: 9px; 
        padding: 4px 12px; 
        background: rgba(0,0,0,0.7); 
        border-bottom-left-radius: 10px; 
        color: #fff; 
        text-transform: uppercase;
        font-style: italic; /* Tilt Effect */
        font-weight: bold;
        transform: skewX(-15deg); /* Tilt Effect */
        border-left: 3px solid var(--sr-accent);
      }

      /* Package Grid Layout */
      .resource-section { margin-top: 30px; color: white; }
      .resource-section h2 { border-bottom: 1px solid var(--sr-border); padding-bottom: 10px; font-size: 1.1rem; }
      .package-grid { display: grid; grid-template-columns: repeat(auto-fill, minmax(280px, 1fr)); gap: 15px; margin-top: 15px;}
      
      .package-item {
        background: var(--sr-bg-card);
        border: 1px solid var(--sr-border);
        border-radius: 10px;
        padding: 20px 15px;
        display: flex;
        flex-direction: column;
        position: relative;
        overflow: hidden;
      }

      .package-item .title { font-size: 13px; font-weight: bold; margin-bottom: 10px; color: #fff; overflow-wrap: anywhere; line-height: 1.4; }
      .package-item .size { font-size: 11px; color: #aaa; margin-bottom: 15px; font-style: italic; }
      
      .dl-link {
        background: var(--sr-blue);
        color: white;
        text-decoration: none;
        text-align: center;
        padding: 10px;
        border-radius: 6px;
        font-weight: bold;
        font-size: 12px;
        text-transform: uppercase;
        letter-spacing: 1px;
      }
      
      /* Animation for Page 5 content */
@keyframes eventReveal {
  0% { 
    opacity: 0; 
    transform: translateY(20px); 
    filter: blur(10px);
  }
  100% { 
    opacity: 1; 
    transform: translateY(0); 
    filter: blur(0);
  }
}

/* Apply this class to trigger the animation */
.reveal-content #event-list, 
.reveal-content #banner-section {
  animation: eventReveal 0.6s cubic-bezier(0.2, 0.8, 0.2, 1) forwards;
}

/* Optional: Stagger the items for a better feel */
#event-list > div {
    opacity: 0;
}
.reveal-content #event-list > div {
    opacity: 1;
    transition: opacity 0.5s ease;
}
</style>
</head>
<body>
<svg style="visibility: hidden; position: absolute;" width="0" height="0">
  <filter id="liquid">
    <feTurbulence type="fractalNoise" baseFrequency="0.01 0.01" numOctaves="3" seed="1">
      <animate attributeName="baseFrequency" dur="10s" values="0.01 0.01;0.05 0.05;0.01 0.01" repeatCount="indefinite" />
    </feTurbulence>
    <feDisplacementMap in="SourceGraphic" scale="50" />
  </filter>
</svg>
<div class="radial-menu-layer">
  <div class="menu-wrapper" id="triggerZone">
      <div class="hold-button"></div>
      <div class="menu-dim" id="menuDim"></div>
    <div class="menu-container" id="menuContainer">
    <div class="circular-ring">
        
      <div style="display: flex;justify-content: center; /* Centers horizontally */
  align-items: center;">
        <div class="pathlogo" style="width:47%;height:47%;border:solid 4px #fff;border-radius:100%;position:absolute;display: flex;justify-content: center; /* Centers horizontally */
  align-items: center;"></div>  
  
  <div class="pathlogo2" style="width:105%;height:105%;border:solid 4px #fff;border-radius:100%;position:absolute;display: flex;justify-content: center; /* Centers horizontally */
  align-items: center;">
      
  <svg id="svg" width="210" height="210" viewBox="0 0 200 200">
  <circle
    id="arc"
    cx="100"
    cy="100"
    r="80"
    fill="none"
    stroke="#fff"
    stroke-width="10"
    stroke-dasharray="100 400"
    transform="rotate(-90 100 100)"
  />
</svg>
  </div>  
      <svg viewBox="0 0 100 100" class="svg-layer">
        <circle class="ring-slice" cx="50" cy="50" r="38" style="--i: 0; --bg: #00000099" />
        <circle class="ring-slice" cx="50" cy="50" r="38" style="--i: 1; --bg: #00000099" />
        <circle class="ring-slice" cx="50" cy="50" r="38" style="--i: 2; --bg: #00000099" />
        <circle class="ring-slice" cx="50" cy="50" r="38" style="--i: 3; --bg: #00000099" />
        <circle class="ring-slice" cx="50" cy="50" r="38" style="--i: 4; --bg: #00000099" />
      </svg>
      
      </div>

      <div class="content-node" style="--angle: 18deg;">
        <span class="icon"><i class="fa-solid fa-user" style="color: #ffffff;"></i></span>
        <span class="label">Profile</span>
      </div>
      <div class="content-node" style="--angle: 90deg;">
        <span class="icon"><i class="fa-solid fa-keyboard" style="color: #ffffff;"></i></span>
        <span class="label">Code Redem</span>
      </div>
      <div class="content-node" style="--angle: 162deg;">
        <span class="icon"><i class="fa-solid fa-gamepad" style="color: #ffffff;"></i></span>
        <span class="label">Joki</span>
      </div>
      <div class="content-node" style="--angle: 234deg;">
        <span class="icon"><i class="fa-solid fa-tv" style="color: #ffffff;"></i></span>
        <span class="label">News</span>
      </div>
      <div class="content-node" style="--angle: 306deg;">
        <span class="icon" style="margin-left:-15px;"><i class="fa-solid fa-newspaper" style="color: #ffffff;"></i>Ô∏è</span>
        <span class="label" style="margin-left:-15px;">Patches</span>
      </div>
    </div>
  </div>
  </div>
</div>

<script>
const arc = document.getElementById("arc");
const svg = document.getElementById("svg");

// Shared function to handle the rotation logic
function updateRotation(clientX, clientY) {
  const rect = svg.getBoundingClientRect();

  // center of the SVG
  const cx = rect.left + rect.width / 2;
  const cy = rect.top + rect.height / 2;

  // position relative to center
  const dx = clientX - cx;
  const dy = clientY - cy;

  // angle in degrees
  const angle = Math.atan2(dy, dx) * (180 / Math.PI);

  // rotate arc to face the pointer
  arc.setAttribute(
    "transform",
    `rotate(${angle - 40} 100 100)`
  );
}

// 1. Desktop Mouse Movement
document.addEventListener("mousemove", (e) => {
  updateRotation(e.clientX, e.clientY);
});

// 2. Mobile Touch Movement (Follows finger)
document.addEventListener("touchmove", (e) => {
  const touch = e.touches[0];
  updateRotation(touch.clientX, touch.clientY);
}, { passive: true });

// 3. Mobile Touch Start (Snaps to finger immediately on touch)
document.addEventListener("touchstart", (e) => {
  const touch = e.touches[0];
  updateRotation(touch.clientX, touch.clientY);
}, { passive: true });
</script>
<script>
  /* =============================
     ELEMENT REFERENCES
  ============================== */
  const menu = document.getElementById('menuContainer');
  const dim = document.getElementById('menuDim');
  const slices = document.querySelectorAll('.ring-slice');
    
    
  const LOGO_BGS = [
  "https://gamebrott.com/wp-content/uploads/2023/08/image-44.png",
  "https://gamebrott.com/wp-content/uploads/2023/08/image-45.png",
  "https://gamebrott.com/wp-content/uploads/2023/08/image-46.png",
  "https://gamebrott.com/wp-content/uploads/2023/08/image-47.png",
  "https://gamebrott.com/wp-content/uploads/2023/08/image-48.png",
  "https://gamebrott.com/wp-content/uploads/2023/08/image-49.png",
  "https://gamebrott.com/wp-content/uploads/2023/08/image-43.png"
];    
  /* =============================
     CONFIG
  ============================== */
  const HOLD_DELAY = 700;
  const CENTER_ZONE = { width: 0.35, height: 0.35 };

  /* =============================
     STATE
  ============================== */
  let holdTimer = null;
  let holding = false;
  let menuOpen = false;

  /* =============================
     HELPERS
  ============================== */
  function inCenterZone(x, y) {
    const w = window.innerWidth;
    const h = window.innerHeight;

    return (
      x >= w * (0.5 - CENTER_ZONE.width / 2) &&
      x <= w * (0.5 + CENTER_ZONE.width / 2) &&
      y >= h * (0.5 - CENTER_ZONE.height / 2) &&
      y <= h * (0.5 + CENTER_ZONE.height / 2)
    );
  }

  function showMenu() {
      
      const randomBg = LOGO_BGS[Math.floor(Math.random() * LOGO_BGS.length)];
  
  // 2. Select the pathlogo element
  const logoElement = document.querySelector('.pathlogo');
  
  // 3. Apply the new background (keeping your linear-gradient overlay if needed)
  if (logoElement) {
    logoElement.style.backgroundImage = `linear-gradient(rgba(0, 0, 0, 0.8), rgba(0, 0, 0, 0.8)), url("${randomBg}")`;
  }
    menu.classList.add('active');
  dim.classList.add('active');
  // Prevent clicking items behind the menu while it's open
  document.querySelector('.page1').style.pointerEvents = 'none';
  menuOpen = true;
}
  

 function hideMenu() {
  // --- REMOVE LIQUID FROM CANVAS ---
  const canvas = document.getElementById('warpCanvas');
  if (canvas) canvas.style.filter = 'none';

  menu.classList.remove('active');
  dim.classList.remove('active');
  document.querySelector('.page1').style.pointerEvents = 'auto';
  menuOpen = false;
}

  /* =============================
     HOLD TO OPEN
  ============================== */
  function startHold(e) {
  if (menuOpen) return;
  if (!inCenterZone(e.clientX, e.clientY)) return;

  // --- TRIGGER LIQUID ON CANVAS ONLY ---
  const canvas = document.getElementById('warpCanvas');
  if (canvas) canvas.style.filter = 'url(#liquid)';
  
  holding = true;
  holdTimer = setTimeout(() => {
    if (holding) showMenu();
  }, HOLD_DELAY);
}

function cancelHold() {
  holding = false;
  clearTimeout(holdTimer);
  
  // Remove effect if user lets go before menu opens
  if (!menuOpen) {
    const canvas = document.getElementById('warpCanvas');
    if (canvas) canvas.style.filter = 'none';
  }
}

  /* =============================
     EVENTS
  ============================== */
  window.addEventListener('pointerdown', startHold, { passive: true });
  window.addEventListener('pointerup', cancelHold);
  window.addEventListener('pointercancel', cancelHold);

  /* =============================
     CLOSE ON DIM CLICK
  ============================== */
  dim.addEventListener('click', hideMenu);

  /* =============================
     SLICE CLICK -> NAVIGATE
  ============================== */
  slices.forEach((slice, index) => {
  slice.addEventListener('click', (e) => {
    e.stopPropagation();
    // Map the slices to your actual page order
    // index 0=Profile(Page1), 1=Code(Page2), 2=Joki(Page3), etc.
    goToPage(index); 
    hideMenu();
  });
});

  /* =============================
     NAVIGATION (ADJUST TO YOUR APP)
  ============================== */
  function goToPage(index) {
    const container = document.getElementById('container');
    const width = window.innerWidth;
    
    // Smooth scroll the container to the selected page
    container.scrollTo({
        left: index * width,
        behavior: 'smooth'
    });
    
    // Optional: Update your island dots if you have them
    updateDots(index);
}
</script>

<div class="container" id="container">
  <!-- Page 1 Link Tree -->
  
  
  
  <div class="page page1">
  <canvas id="warpCanvas"></canvas>
  <div id="threeContainer" style="position: absolute; top: 0; left: 0; width: 100%; height: 100%; z-index: 1; pointer-events: none;"></div>
    <div class="profile-header">
      <div class="avatar-wrapper">
        <img src="https://i.ibb.co.com/zhRNLbFN/915f70b8620adc7442ef2ba97c06435f-tplv-tiktokx-cropcenter-1080-1080.jpg" alt="Kodokkyun" class="main-avatar" />
        
      </div>
      <div class="status-badge">‚óè ONLINE</div>
      <h2 class="name-premium">Kodokkyun</h2>
      <p class="tagline">Wong Jowo tapi Gamer ‚Ä¢ <i class="fa-regular fa-chess-king fa-shake" style="color: #ffffff;"></i></p>
    </div>

  <div class="links-container">
    <div class="link-item">
      <button class="modern-link" onclick="togglePanel(this)">
        <div class="link-info">
          <div class="icon-box tiktok-bg"><i class="fa-brands fa-tiktok fa-bounce" style="color: #ffffff;"></i></div>
          <div class="link-text">
            <span class="link-title">TikTok</span>
            <span class="link-subtitle">Konten Gaming & Hiburan</span>
          </div>
        </div>
        <span class="arrow-icon"><i class="fa-solid fa-sun fa-spin"></i></span>
      </button>
      <div class="modern-panel">
        <p>Mampir ke TikTok lur, konten seru tiap hari! üôè</p>
        <button class="action-btn" onclick="window.open('https://www.tiktok.com/@kodok.kyun?_r=1&_t=ZS-92Pj7eRBXST', '_blank')">Follow Yuk</button>
      </div>
    </div>

    <div class="link-item">
      <button class="modern-link" onclick="togglePanel(this)">
        <div class="link-info">
          <div class="icon-box saweria-bg"><i class="fa-solid fa-circle-dollar-to-slot fa-flip" style="color: #ffffff;"></i></div>
          <div class="link-text">
            <span class="link-title">Saweria</span>
            <span class="link-subtitle">Support Creator Lokal</span>
          </div>
        </div>
        <span class="arrow-icon"><i class="fa-solid fa-sun fa-spin"></i></span>
      </button>
      <div class="modern-panel">
        <p>Tip/Donasi untuk upgrade gear streaming. Suwun!</p>
        <button class="action-btn" onclick="window.open('https://saweria.co/kodokkyunn99', '_blank')">Tip Saweria</button>
      </div>
    </div>

    <div class="link-item highlight">
      <button class="modern-link" onclick="togglePanel(this)">
        <div class="link-info">
          <div class="icon-box joki-bg"><i class="fa-solid fa-khanda fa-beat" style="color: #ffffff;"></i></div>
          <div class="link-text">
            <span class="link-title">Jasa Joki Game</span>
            <span class="link-subtitle">Top-tier Rank Service</span>
          </div>
        </div>
        <span class="arrow-icon"><i class="fa-solid fa-sun fa-spin"></i></span>
      </button>
      <div class="modern-panel">
        <p>Gak ada waktu maen? Serahin ke ahlinya!</p>
        <button class="action-btn joki-btn-color" id="JOKINext">Lihat Pricelist</button>
      </div>
    </div>
  </div>
</div>

<div class="page" id="page2">

  <div class="content">
    <div class="header-logo-container">
      <img id="game-logo-header" src="" alt="Logo" class="animate-logo">
    </div>

    <div class="tabs-v2 e-tilt">
      <button class="tab-btn-v2 active" data-game="zenless">ZZZ</button>
      <button class="tab-btn-v2" data-game="genshinimpact">GENSHIN</button>
      <button class="tab-btn-v2" data-game="starrail">HSR</button>
      <button class="tab-btn-v2" data-game="hi3rd">HI3rd</button>
    </div>

    <div id="codes-container-v2">
      <div class="loading-v2">INITIALIZING...</div>
    </div>

    <div style="height: 100px;"></div> 
  </div>

  <script>
    (function() {
      const APIS = {
        zenless: 'https://kodokkyun-project.vercel.app/api/zzcode',
        genshinimpact: 'https://kodokkyun-project.vercel.app/api/gscd',
        starrail: 'https://kodokkyun-project.vercel.app/api/stcode',
        hi3rd: 'https://kodokkyun-project.vercel.app/api/hicode'
      };

      const BGS = {
        zenless: 'https://images7.alphacoders.com/130/thumb-1920-1307267.jpg',
        genshinimpact: 'https://fastcdn.hoyoverse.com/content-v2/hk4e/159337/54b493f799071cf2050b919305288d5d_7897117480191368973.jpg',
        starrail: 'https://i.ibb.co.com/VYZ3w3wB/Fyreflies-are-such-magical-creatures-aren-t-they-They-may-throw-themselves-at-a-flame-or-sudden-ups.png',
        hi3rd: 'https://fastcdn.hoyoverse.com/content-v2/plat/101533/6fbf8271438e536e58169ac01efb0a84_723492315779207397.jpg'
      };

      const CODELOGO = {
        zenless: 'https://i.ibb.co.com/JFcGnZvK/f3.png',
        genshinimpact: 'https://i.ibb.co.com/Nn3J5SnW/1rf.png',
        starrail: 'https://i.ibb.co.com/TDQgJmdk/unnamed.png',
        hi3rd: 'https://i.ibb.co.com/tTGpYmcr/ewq.png'
      };

      // Konfigurasi Link Redeem Otomatis
      const REDEEM_CONFIG = {
        zenless: code => `https://zenless.hoyoverse.com/redemption?code=${code}`,
        genshinimpact: code => `https://genshin.hoyoverse.com/en/gift?code=${code}`,
        starrail: code => `https://hsr.hoyoverse.com/gift?code=${code}`,
        hi3rd: code => `https://honkaiimpact3.hoyoverse.com/global/en/home?code=${code}` 
      };

      async function loadCodes(game) {
        const container = document.getElementById('codes-container-v2');
        const pg2 = document.getElementById('page2');
        const logoImg = document.getElementById('game-logo-header');
        
        logoImg.classList.remove('animate-logo');
        logoImg.src = CODELOGO[game];
        pg2.style.backgroundImage = `url('${BGS[game]}')`;
        
        void logoImg.offsetWidth; 
        logoImg.classList.add('animate-logo');
        
        container.innerHTML = '<div class="loading-v2">LOADING CODES...</div>';

        try {
          const res = await fetch(APIS[game]);
          const data = await res.json();
          container.innerHTML = '';

          if (data.active && data.active.length > 0) {
            data.active.forEach((item, index) => {
              const rewardList = item.rewards.join(', ');
              const card = document.createElement('div');
              card.className = 'redeem-card-v2 reveal-card';
              card.style.animationDelay = `${index * 0.1}s`;
              
              // Membuat link redeem khusus untuk kode ini
              const finalRedeemUrl = REDEEM_CONFIG[game](item.code);
              
              card.innerHTML = `
                <div class="redeem-header-v2">
                  <span class="code-v2">${item.code}</span>
                  <div class="btn-group-v2">
                    <button class="btn-v2 btn-copy-v2" onclick="copyAction('${item.code}', this)">COPY</button>
                    <button class="btn-v2 btn-redeem-v2" onclick="window.open('${finalRedeemUrl}', '_blank')">REDEEM</button>
                  </div>
                </div>
                <div class="reward-v2" style="font-size:0.85rem; color:#aaa; border-top:1px solid rgba(255,255,255,0.05); padding-top:8px;">
                  <strong>Rewards:</strong> ${rewardList}
                </div>
              `;
              container.appendChild(card);
            });
          } else {
            container.innerHTML = '<div class="loading-v2">NO ACTIVE CODES FOUND</div>';
          }
        } catch (e) {
          container.innerHTML = '<div class="loading-v2" style="color:#f87171">CONNECTION ERROR</div>';
        }
      }

      document.querySelectorAll('.tab-btn-v2').forEach(btn => {
        btn.addEventListener('click', function() {
          if(this.classList.contains('active')) return;
          document.querySelectorAll('.tab-btn-v2').forEach(b => b.classList.remove('active'));
          this.classList.add('active');
          loadCodes(this.dataset.game);
        });
      });

      window.copyAction = function(text, btn) {
        navigator.clipboard.writeText(text);
        const originalText = btn.innerText;
        btn.innerText = 'COPIED!';
        btn.style.background = '#059669';
        setTimeout(() => {
          btn.innerText = originalText;
          btn.style.background = '#6366f1';
        }, 1000);
      };

      loadCodes('zenless');
    })();
  </script>
</div>


  <!-- Page 3 -->
  <div class="page page3">
  
  <div class="joki-master-container">

    <div class="joki-header">
        <h1 class="joki-header-title">ASTRAL STATION</h1>
        <div style="background: rgba(0,0,0,0.4); padding: 4px 12px; border-radius: 4px; margin-top: 10px;">
            <p style="color: var(--joki-gold); font-size: 0.8rem; font-weight: bold; margin: 0; letter-spacing: 1px;">HSR JOKI & MAINTENANCE</p>
        </div>
    </div>

    <div class="joki-content-wrapper">
        
        <div class="joki-section-title">
            <div class="joki-section-line"></div>
            <span>Event </span>
        </div>
        
        <div class="joki-card-cw">
                <h3 class="joki-card-h3">Currency Wars</h3>
                <p class="joki-card-p">Event Anjay Currency wars sudah bisa di joki</p>
                
                <div class="joki-row">
                 <span  class="joki-tag">18000 Point</span>
                  <span style="background-color:var(--joki-gold);border-radius:15px;padding-left:5px;padding-right:5px;color:black;">Rp.24000</span>
                 </div> 
                 
                  <div class="joki-row">
                 <span  class="joki-tag">Level Up accession </span>
                  <span style="background-color:var(--joki-gold);border-radius:15px;padding-left:5px;padding-right:5px;color:black;">Rp.28000</span>
                 </div> 
                 
                 <div class="joki-row">
                 <span  class="joki-tag">Sampai Welt Creator Mentok </span>
                  <span style="background-color:var(--joki-gold);border-radius:15px;padding-left:5px;padding-right:5px;color:black;">Rp.150000</span>
                 </div> 
                 
                <br>
                
                <button class="joki-btn" onclick="jokiPushOrder('Currency Wars', 'Tanya Harga')">Deploy</button>
            </div>
            
            <div class="joki-card-ev" >
                <h3 class="joki-card-h3">Chrysos Awoo Championship</h3>
                <p class="joki-card-p">Ngelarin Event Bulanan Sabung Kocheng</p>
                
                <div class="joki-card-price">Rp 10.000</div>
                
                <button class="joki-btn" onclick="jokiPushOrder('Chrysos Awoo Championship', 'Rp 25.000')">Deploy</button>
            </div>
        
        <div class="joki-section-title">
            <div class="joki-section-line"></div>
            <span>Rawat Akun</span>
        </div>
        <span class="joki-category-desc">Maintenance rutin untuk Trailblazer Power & Daily.</span>

        <div class="joki-grid">
            <div class="joki-card">
                <h3 class="joki-card-h3">Harian</h3>
                <p class="joki-card-p">Spend Trailblaze power, daily point, assignment.</p>
                <div class="joki-card-price">Rp 5.000</div>
                <button class="joki-btn" onclick="jokiPushOrder('Harian', 'Rp 5.000')">Deploy</button>
            </div>
            <div class="joki-card">
                <h3 class="joki-card-h3">Mingguan</h3>
                <p class="joki-card-p">Rawat akun + Echo of War, Simulated / Divergent Universe.</p>
                <div class="joki-card-price">Rp 30.000</div>
                <button class="joki-btn" onclick="jokiPushOrder('Mingguan', 'Rp 30.000')">Deploy</button>
            </div>
            <div class="joki-card">
                <h3 class="joki-card-h3">Bulanan</h3>
                <p class="joki-card-p">Rawat akun + EoW + Sim/Div Universe + Upgrade 1 Character.</p>
                <div class="joki-card-price">Rp 90.000</div>
                <button class="joki-btn" onclick="jokiPushOrder('Bulanan', 'Rp 90.000')">Deploy</button>
            </div>
            <div class="joki-card" style="border-color: var(--joki-gold);">
                <h3 class="joki-card-h3">Paket Lengkap</h3>
                <p class="joki-card-p">Rawat akun + EoW + Sim/Div Universe + Upgrade 1 Char + Explore Chest.</p>
                <div class="joki-card-price">Rp 150.000</div>
                <button class="joki-btn" onclick="jokiPushOrder('Paket Lengkap', 'Rp 150.000')">Deploy</button>
            </div>
        </div>

        <div class="joki-section-title">
            <div class="joki-section-line"></div>
            <span>Farming & Power Up</span>
        </div>
        <span class="joki-category-desc">Optimasi relic dan material karakter.</span>

        <div class="joki-grid">
            <div class="joki-card">
                <h3 class="joki-card-h3">Farming Relic</h3>
                <p class="joki-card-p">Farming Relic sesuai kebutuhan (Cavern/Ornament).</p>
                <div class="joki-card-price">Rp 5.000</div>
                <button class="joki-btn" onclick="jokiPushOrder('Farming Relic', 'Rp 5.000')">Deploy</button>
            </div>
            <div class="joki-card">
                <h3 class="joki-card-h3">Leveling 1-80</h3>
                <p class="joki-card-p">Peningkatan level karakter hingga maksimal.</p>
                <div class="joki-card-price">Rp 50.000</div>
                <button class="joki-btn" onclick="jokiPushOrder('Leveling 1-80', 'Rp 50.000')">Deploy</button>
            </div>
            <div class="joki-card">
                <h3 class="joki-card-h3">Paket Character</h3>
                <p class="joki-card-p">Character Level + Full Trace + Lightcone Max.</p>
                <div class="joki-card-price">Rp 110.000</div>
                <button class="joki-btn" onclick="jokiPushOrder('Paket Character', 'Rp 110.000')">Deploy</button>
            </div>
        </div>

        <div class="joki-section-title">
            <div class="joki-section-line"></div>
            <span>Endgame Content</span>
        </div>
        <span class="joki-category-desc">Clear Floor MOC, PF, dan Apocalyptic Shadow.</span>

        <div class="joki-grid">
            <div class="joki-card">
    <h3 class="joki-card-h3">MOC / PF / AS</h3>
    <div class="joki-tag-container">
        <div class="joki-row">
            <span  class="joki-tag">Floor 1-4:</span>
            <span style="background-color:var(--joki-gold);border-radius:15px;padding-left:5px;padding-right:5px;color:black;">Rp.4000</span>
        </div>
        <div class="joki-row">
            <span class="joki-tag">Floor 5-7:</span>
            <span style="background-color:var(--joki-gold);border-radius:15px;padding-left:5px;padding-right:5px;color:black;">Rp.7000</span>
        </div>
        <div class="joki-row">
            <span class="joki-tag">Floor 8-10:</span>
            <span style="background-color:var(--joki-gold);border-radius:15px;padding-left:5px;padding-right:5px;color:black;">Rp.10000</span>
        </div>
        <div class="joki-row">
            <span class="joki-tag">Floor 11-12:</span>
            <span style="background-color:var(--joki-gold);border-radius:15px;padding-left:5px;padding-right:5px;color:black;">Rp.13000</span>
        </div>
    </div>
    <p class="joki-card-p">Team harus siap battle.</p>
    <div class="joki-card-price">Cek Floor</div>
    <button class="joki-btn" onclick="jokiPushOrder('Endgame Content', 'Tanya Floor')">Deploy</button>
</div>
            <div class="joki-card-new">
                <h3 class="joki-card-h3">Main Story</h3>
                <p class="joki-card-p">Selesaikan Story Mission yang panjang .</p>
                <p class="joki-card-p">ayo kita live sambil story .</p>
                <div class="joki-card-price">Rp 50k - 200k</div>
                <button class="joki-btn" onclick="jokiPushOrder('Story Mission', 'Nego')">Deploy</button>
            </div>
            
            
        </div>
    </div>

    <script>
        function jokiPushOrder(layanan, harga) {
            const noWhatsapp = "+62 895-4251-13456"; 
            const teksPesan = `Halo Astral Station,%0A%0A*Layanan:* ${layanan}%0A*Harga:* ${harga}%0A%0A"May this journey lead us starward."`;
            window.open(`https://wa.me/${noWhatsapp}?text=${teksPesan}`, '_blank');
        }
    </script>
</div>

  </div>
  
  <div class="page page5">
    
    <div class="gc-container">

    <div class="gc-tabs">
        <button class="gc-tab-btn active" data-game="genshin">Genshin</button>
        <button class="gc-tab-btn" data-game="hsr">Star Rail</button>
        <button class="gc-tab-btn" data-game="zzz">ZZZ</button>
        <button class="gc-tab-btn" data-game="hi3">Honkai 3rd</button>
    </div>

    <div id="calendar-content">
        <div id="banner-section">
            <div class="gc-title">Active Banners</div>
            <div id="banner-list" class="banner-row"></div>
        </div>
        <div class="gc-title">Latest News & Events</div>
        <div id="event-list" class="e-grid">
            <div class="loader">Loading...</div>
        </div>
    </div>

    <script>
    document.addEventListener('DOMContentLoaded', () => {
    const genshinTab = document.querySelector('.gc-tab-btn[data-game="genshin"]');
    if (genshinTab) genshinTab.click();
});
        // Background mapping for Page 5 (similar to Page 2 logic)
const page5Backgrounds = {
    'genshin': 'https://upload-os-bbs.hoyolab.com/upload/2025/05/02/251990923/634be8c6e6e4c8236b96242440c5db62_7278220409140988355.jpg', // Replace with Genshin bg
    'hsr': 'https://upload-os-bbs.hoyolab.com/upload/2024/12/18/196713205/b0d1874e768847bad895987e5908764c_7189509628374481979.webp',     // Your current HSR bg
    'zzz': 'https://media.zenfs.com/en/gamesradar_237/1f2c5004c4f5c1d32153bd59c97ff9aa',                                                               // Replace with ZZZ bg
    'hi3': 'https://fastcdn.hoyoverse.com/content-v2/bh3/157570/421fe0473cd75867a9947e1a3e5497f3_7164544037939794521.jpg'                                                                // Replace with HI3 bg
};

// Select all buttons on Page 5
const gcTabBtns = document.querySelectorAll('.gc-tab-btn');
const page5 = document.querySelector('.page5');

gcTabBtns.forEach(btn => {
    btn.addEventListener('click', () => {
        const game = btn.getAttribute('data-game');
        
        // 1. Remove active class from all Page 5 buttons
        gcTabBtns.forEach(b => b.classList.remove('active'));
        
        // 2. Add active class to clicked button
        btn.classList.add('active');
        
        // 3. Change Page 5 background using the const mapping
        if (page5Backgrounds[game]) {
            page5.style.backgroundImage = `url('${page5Backgrounds[game]}')`;
        }
    });
});
        
        const CONFIG = {
            genshin: { api: 'https://kodokkyun-project.vercel.app/api/gc', accent: '#ffd369' },
            hsr: { api: 'https://kodokkyun-project.vercel.app/api/sc', accent: '#69d3ff' },
            zzz: { api: 'https://kodokkyun-project.vercel.app/api/zc', accent: '#9dff69' },
            hi3: { api: 'https://kodokkyun-project.vercel.app/api/hc', accent: '#ff85d0' }
        };

        const formatTs = (ts) => {
            if (!ts) return "Latest";
            const date = new Date(ts < 10000000000 ? ts * 1000 : ts);
            return date.toLocaleDateString('en-US', { month: 'short', day: 'numeric' });
        };

        const fixImg = (url) => url ? url.split('/revision/')[0] : '';

        async function loadGame(gameKey) {
            const content = document.getElementById('event-list');
            const banners = document.getElementById('banner-list');
            const bannerSection = document.getElementById('banner-section');
            
            document.documentElement.style.setProperty('--accent', CONFIG[gameKey].accent);
            content.innerHTML = '<div class="loader">Syncing Data...</div>';

            try {
                const res = await fetch(CONFIG[gameKey].api);
                const data = await res.json();

                // News Feed Mode (ZZZ and HI3 return Arrays)
                if (Array.isArray(data)) {
                    bannerSection.style.display = 'none';
                    // Reversing ensure the last item (newest) is at the top
                    content.innerHTML = data.slice().reverse().map(e => `
                        <a href="${e.url}" target="_blank" class="e-card">
                            <img src="${e.banner[0]}" referrerpolicy="no-referrer" class="e-thumb">
                            <div class="e-body">
                                <div class="e-date">${formatTs(e.createdAt)}</div>
                                <div class="e-name">${e.title}</div>
                                <div class="e-desc">${e.description}</div>
                            </div>
                        </a>
                    `).join('');
                } 
                // Calendar Mode (Genshin and HSR return Objects)
                else {
                    bannerSection.style.display = 'block';
                    banners.innerHTML = (data.banners || []).map(b => `
                        <div class="b-card">
                            <div class="b-head">
                                <span style="color:var(--accent)">${b.name || 'Warp Event'}</span>
                                <span style="opacity:0.6">v${b.version}</span>
                            </div>
                            <div class="b-icons">
                                ${[...(b.characters||[]), ...(b.weapons||[]), ...(b.light_cones||[])].map(i => `
                                    <img src="${fixImg(i.icon)}" referrerpolicy="no-referrer" class="m-icon">
                                `).join('')}
                            </div>
                        </div>
                    `).join('');

                    content.innerHTML = (data.events || []).slice().reverse().map(e => {
                        const hasRewards = e.rewards && e.rewards.length > 0;
                        return `
                            <div class="e-card">
                                ${e.image_url ? `<img src="${fixImg(e.image_url)}" referrerpolicy="no-referrer" class="e-thumb">` : ''}
                                <div class="e-body">
                                    <div class="e-date">${formatTs(e.start_time)} ‚Äî ${formatTs(e.end_time)}</div>
                                    <div class="e-name">${e.name}</div>
                                    <div class="e-desc">${(e.description||'').replace(/\\n/g, '<br>')}</div>
                                    ${hasRewards ? `<div class="r-row">${e.rewards.map(r => `
                                        <div class="r-item">
                                            <img src="${fixImg(r.icon)}" referrerpolicy="no-referrer" class="r-img">
                                            <span class="r-amt">${r.amount > 0 ? r.amount : ''}</span>
                                        </div>`).join('')}</div>` : ''}
                                </div>
                            </div>`;
                    }).join('');
                }
            } catch (err) { 
                content.innerHTML = '<div class="loader">Failed to connect</div>'; 
            }
        }

        document.querySelectorAll('.gc-tab-btn').forEach(btn => {
    btn.addEventListener('click', async () => {
        const content = document.getElementById('calendar-content');
        
        // 1. Set Active Tab UI
        document.querySelectorAll('.gc-tab-btn').forEach(b => b.classList.remove('active'));
        btn.classList.add('active');

        // 2. Show Syncing State & Reset Animations
        // We keep the structure but show a loader inside the list area
        content.classList.remove('reveal-content');
        const eventList = document.getElementById('event-list');
        if (eventList) eventList.innerHTML = '<div class="loader">Syncing Data...</div>';

        try {
            // 3. Call your existing loadGame function
            // Ensure this function internally populates #event-list and #banner-list
            await loadGame(btn.dataset.game); 
            
            // 4. Trigger the Animation once data is loaded
            setTimeout(() => {
                content.classList.add('reveal-content');
            }, 50);
        } catch (err) {
            console.error("Sync failed:", err);
            if (eventList) eventList.innerHTML = '<div class="loader" style="color:red;">Failed to sync data.</div>';
        }
    });
});
        document.querySelector('.gc-tab-btn[data-game="genshin"]').click();
        loadGame('genshin');
    </script>
</div>
    
 </div>

  
<div class="page page4">
  <div id="game-downloader-container">

    <div class="resource-tabs">
      <button class="tab-btn active title-font extra-tilt2" id="tab-sr" onclick="switchGameResource('sr')">STAR RAIL</button>
      <button class="tab-btn title-font extra-tilt2" id="tab-zzz" onclick="switchGameResource('zzz')">ZENLESS</button>
      <button class="tab-btn title-font extra-tilt2" id="tab-hi3" onclick="switchGameResource('hi3')">HONKAI IMPACT 3</button>
    </div>

    <div class="resource-banner content-fade" id="res-banner">
      <div id="slide-container"></div>
      <div class="resource-banner-content">
        <h1 id="res-title">Manual Update Patch</h1>
        <h2 id="res-subtitle">Resource Center</h2>
      </div>
    </div>
    
    

    <div id="fade-wrapper" class="content-fade">
    

    <div class="resource-section" id="pre-major-section" style="display:none;">
        <h2 style="color: #00ffcc;">Pre-Download Full Packages
            <span id="pre-major-version" style="font-size: 0.6em; opacity: 0.8; margin-left: 10px; background: rgba(0,255,204,0.2); padding: 2px 8px; border-radius: 4px;"></span>
        </h2>
        <div id="pre-major-list" class="package-grid"></div>
    </div>

    <div class="resource-section" id="pre-patch-section" style="display:none;">
        <h2 style="color: #00ffcc;">Pre-Download Patches</h2>
        <div id="pre-patch-list" class="package-grid"></div>
    </div>
    
    <div class="resource-section">
        <h2>Main Full Packages</h2>
        <div id="main-list" class="package-grid"></div>
    </div>

    <div class="resource-section">
        <h2>Update Patches</h2>
        <div id="patch-list" class="package-grid"></div>
    </div>
</div>

    <script>
      (function() {
        const CONFIG = {
          sr: {
            api: "https://kodokkyun-project.vercel.app/api/starrail",
            title: "Star Rail Patch",
            subtitle: "Honkai: Star Rail Resource Center",
            accent: "#f29d38",
            links: [
              'https://fastcdn.hoyoverse.com/content-v2/hkrpg/161288/62ca11c91b7f48c53a922989c8602b3c_5830406567434764573.png',
              'https://fastcdn.hoyoverse.com/content-v2/hkrpg/123957/8f37dbc91598d1eebdadca8e9d22a6f6_6237269238409818844.png',
              'https://fastcdn.hoyoverse.com/content-v2/hkrpg/125610/919a9d47f033fde37dd6aae36e77aa72_8633682211537180049.png'
            ]
          },
          zzz: {
            api: "https://kodokkyun-project.vercel.app/api/zzz",
            title: "Zenless Zone Zero Patch",
            subtitle: "ZZZ Version Resource Center",
            accent: "#f29d38",
            links: [
              'https://i.ibb.co.com/WqWHxZx/Zenless-Zone-Zero-Ye-Shunguang-550x309-upscayl-2x-digital-art-4x.png',
              'https://i.ibb.co.com/n8ZXy10x/aa1scoxa-upscayl-2x-digital-art-4x.png',
              'https://cdn.jumpshare.com/preview/BjQYVgSSMu28iRTWj7vldIQJYv-6y6cHehIHgPGK5JeeHRcbh0cUXSIZqCfEhl0BmVg5ELx8-d3CgM8QhTXrjTVBFUAf4UMMXVi5NfH5FbPOG1eBG09Teuy2uoBDpUZ08SOsxalb0uFyMK5KS-PkbW6yjbN-I2pg_cnoHs_AmgI.mp4'
            ]
          },
          hi3: {
            api: "https://kodokkyun-project.vercel.app/api/honkai",
            title: "Honkai Impact 3rd Patch",
            subtitle: "HI3 Version Resource Center",
            accent: "#ec4c4c",
            links: [
              'https://fastcdn.hoyoverse.com/content-v2/bh3/160540/89bbb7479502597b0a25d9d39a3a3109_3262445305204304580.jpg',
              'https://i.ibb.co.com/MkdMDXqZ/599945099-1178220154525489-8004690127920167076-n.jpg'
            ]
          }
        };

        let currentIdx = 0;
        let slideTimer = null;
        const banner = document.getElementById('res-banner');
        const fadeWrapper = document.getElementById('fade-wrapper');
        const slideContainer = document.getElementById('slide-container');

        window.switchGameResource = async function(gameKey) {
          // Fade Out current content
          banner.classList.add('is-hidden');
          fadeWrapper.classList.add('is-hidden');

          setTimeout(async () => {
            // Update Active Tab
            document.querySelectorAll('.tab-btn').forEach(btn => btn.classList.remove('active'));
            document.getElementById(`tab-${gameKey}`).classList.add('active');
            
            const cfg = CONFIG[gameKey];
            document.getElementById('res-title').textContent = cfg.title;
            const sub = document.getElementById('res-subtitle');
            sub.textContent = cfg.subtitle;
            sub.style.color = cfg.accent;
            document.documentElement.style.setProperty('--sr-accent', cfg.accent);

            // Re-init slideshow and load API data
            initSlideshow(cfg.links);
            await renderResources(cfg.api);

            // Fade In new content
            banner.classList.remove('is-hidden');
            fadeWrapper.classList.remove('is-hidden');
          }, 350); // Matches the 0.4s transition
        };

        function initSlideshow(urls) {
          clearInterval(slideTimer);
          slideContainer.innerHTML = '';
          currentIdx = 0;

          urls.forEach((url, i) => {
            const isVideo = url.toLowerCase().split('?')[0].endsWith('.mp4');
            let el;
            if (isVideo) {
              el = document.createElement('video');
              el.src = url; el.muted = true; el.loop = true; el.playsInline = true; el.autoplay = true;
            } else {
              el = document.createElement('div');
              el.style.backgroundImage = `url('${url}')`;
            }
            el.className = 'slide-layer' + (i === 0 ? ' active' : '');
            slideContainer.appendChild(el);
          });

          if (urls.length > 1) {
            slideTimer = setInterval(() => {
              const slides = slideContainer.querySelectorAll('.slide-layer');
              if(!slides[currentIdx]) return;
              slides[currentIdx].classList.remove('active');
              currentIdx = (currentIdx + 1) % slides.length;
              slides[currentIdx].classList.add('active');
              if (slides[currentIdx].tagName === 'VIDEO') slides[currentIdx].play().catch(()=>{});
            }, 5000);
          }
        }

        async function renderResources(apiUrl) {
          const mList = document.getElementById('main-list');
          const pList = document.getElementById('patch-list');
          
          // Pre-download Elements
          const preMajorList = document.getElementById('pre-major-list');
          const preMajorSec = document.getElementById('pre-major-section');
          const preMajorVer = document.getElementById('pre-major-version');
          
          const prePatchList = document.getElementById('pre-patch-list');
          const prePatchSec = document.getElementById('pre-patch-section');

          try {
            const res = await fetch(apiUrl);
            const json = await res.json();
            const data = json.data.game_packages[0];

            // 1. Reset everything before rendering
            mList.innerHTML = '';
            pList.innerHTML = '';
            
            if (preMajorList) preMajorList.innerHTML = '';
            if (prePatchList) prePatchList.innerHTML = '';
            if (preMajorVer) preMajorVer.textContent = '';
            
            if (preMajorSec) preMajorSec.style.display = 'none';
            if (prePatchSec) prePatchSec.style.display = 'none';

            // 2. Render MAIN Full Packages
            if (data.main && data.main.major) {
                data.main.major.game_pkgs.forEach(p => createItem(mList, p, 'Game'));
                data.main.major.audio_pkgs.forEach(p => createItem(mList, p, 'Audio'));
            }

            // 3. Render MAIN Update Patches
            if (data.main && data.main.patches) {
                data.main.patches.forEach(pSet => {
                    pSet.game_pkgs.forEach(p => createItem(pList, p, 'Patch'));
                    pSet.audio_pkgs.forEach(p => createItem(pList, p, 'Audio Patch'));
                });
            }

            // 4. Render PRE-DOWNLOAD Section
            if (data.pre_download) {
                const pre = data.pre_download;

                // --- Handle Pre-Download Major (Full Packages) ---
                if (pre.major && pre.major.game_pkgs && pre.major.game_pkgs.length > 0) {
                    if (preMajorSec) preMajorSec.style.display = 'block';
                    
                    // Show version badge if available
                    if (preMajorVer && pre.major.version) {
                        preMajorVer.textContent = `v${pre.major.version}`;
                    }

                    pre.major.game_pkgs.forEach(p => createItem(preMajorList, p, 'Pre-Game'));
                    pre.major.audio_pkgs.forEach(p => createItem(preMajorList, p, 'Pre-Audio'));
                }

                // --- Handle Pre-Download Patches (Update Only) ---
                if (pre.patches && pre.patches.length > 0) {
                    if (prePatchSec) prePatchSec.style.display = 'block';
                    
                    pre.patches.forEach(pSet => {
                        pSet.game_pkgs.forEach(p => createItem(prePatchList, p, 'Pre-Patch'));
                        pSet.audio_pkgs.forEach(p => createItem(prePatchList, p, 'Pre-Audio Patch'));
                    });
                }
            }
          } catch (e) { 
              console.error("Resource Load Error:", e);
              mList.innerHTML = '<p style="color:white;text-align:center;">Manifest Offline or API Error.</p>'; 
          }
        }

        function createItem(container, pkg, type) {
          const div = document.createElement('div');
          div.className = 'package-item';
          div.innerHTML = `
            <div class="type-tag">${type}</div>
            <div class="title">${pkg.url.split('/').pop()}</div>
            <div class="size">${(Number(pkg.size)/(1024**3)).toFixed(2)} GB</div>
            <a href="${pkg.url}" class="dl-link" target="_blank">DOWNLOAD</a>
          `;
          container.appendChild(div);
        }

        // Start with Star Rail by default
        switchGameResource('sr');
      })();
    </script>
  </div>
</div>
</div>

<!-- Island dot indicator -->
<div class="island" id="island">
  <div class="dot-wrapper">
    <div class="dot" style="left:0;"></div>
    <div class="dot" style="left:23px;"></div>
    <div class="dot" style="left:46px;"></div>
    <div class="dot" style="left:68px;"></div>
    <div class="dot" style="left:91px;"></div>
    <div class="dot-indicator" id="dot-indicator"></div>
  </div>
</div>

<!-- FAB Buttons -->
<button class="fab fab-left" id="btnPrev" aria-label="Previous page">&lt;</button>
<button class="fab fab-right" id="btnNext" aria-label="Next page">&gt;</button>

<script>
/* ================================
   1. SWIPE NAVIGATION LOGIC
   ================================ */
const container = document.getElementById("container");
const island = document.getElementById("island");
const dotIndicator = document.getElementById("dot-indicator");
const btnPrev = document.getElementById("btnPrev");
const btnNext = document.getElementById("btnNext");
const JOKINext = document.getElementById("JOKINext");
const pages = document.querySelectorAll('.page'); // Select all pages dynamically

let totalPages = pages.length;
let pageWidth = window.innerWidth;
let currentPage = 0;

// Swipe Variables
let startX = 0, startY = 0, currentX = 0, currentY = 0;
let startTime = 0;
let isSwiping = false;
let gestureLocked = false; // true once we decide if it's scroll or swipe
let isHorizontalSwipe = false;
let hideTimeout = null;

// Helper: Move container
function setTranslate(x) {
  // Use percentage for container width flexibility or pixel offset
  container.style.transform = `translate3d(${x}px, 0, 0)`;
}

// Helper: Update Island Dots
function updateDotIndicator(progress) {
  // Clamp progress between 0 and totalPages - 1
  const clamped = Math.min(Math.max(progress, 0), totalPages - 1);
  // 23px is the distance between dots defined in CSS
  dotIndicator.style.transform = `translateX(${clamped * 23}px)`;
}

function showIsland() {
  clearTimeout(hideTimeout);
  island.classList.add("show");
  hideTimeout = setTimeout(() => island.classList.remove("show"), 1000);
}

function goToPage(page) {
  if (page < 0) page = 0;
  if (page >= totalPages) page = totalPages - 1;
  
  currentPage = page;
  
  // Smooth transition
  container.style.transition = "transform 0.45s cubic-bezier(.22,.61,.36,1)";
  
  // Calculate offset based on viewport width
  setTranslate(-currentPage * window.innerWidth);
  updateDotIndicator(currentPage);
  showIsland();
}

// Resize Handler
window.addEventListener('resize', () => {
  pageWidth = window.innerWidth;
  // Remove transition to snap instantly on resize
  container.style.transition = "none"; 
  setTranslate(-currentPage * pageWidth);
});

// --- Touch Events ---

container.addEventListener("touchstart", e => {
  clearTimeout(hideTimeout);
  startX = e.touches[0].clientX;
  startY = e.touches[0].clientY;
  currentX = startX;
  currentY = startY;
  startTime = Date.now();
  isSwiping = true;
  gestureLocked = false;
  island.classList.add("show");
  
  // Stop any current transition so we can drag manually
  container.style.transition = "none";
}, { passive: true });

container.addEventListener("touchmove", e => {
  if (!isSwiping) return;

  currentX = e.touches[0].clientX;
  currentY = e.touches[0].clientY;
  const dx = currentX - startX;
  const dy = currentY - startY;

  // Lock Gesture Direction
  if (!gestureLocked) {
    // Threshold of 10px to determine intent
    if (Math.abs(dx) > 10 || Math.abs(dy) > 10) {
      gestureLocked = true;
      // If X movement > Y movement, it's a swipe
      isHorizontalSwipe = Math.abs(dx) > Math.abs(dy);
    } else {
      return; 
    }
  }

  // If vertical scroll, let browser handle it
  if (!isHorizontalSwipe) return;

  // Prevent default only if it is a horizontal swipe to stop page bounce
  if (e.cancelable) e.preventDefault();

  let delta = dx;

  // Resistance effect at edges
  if ((currentPage === 0 && delta > 0) || (currentPage === totalPages - 1 && delta < 0)) {
    delta *= 0.3;
  }

  setTranslate((-currentPage * pageWidth) + delta);
  
  // Update island visually based on percentage
  const progress = currentPage - (delta / pageWidth);
  updateDotIndicator(progress);

}, { passive: false }); // Changed to false to allow preventDefault if needed

container.addEventListener("touchend", () => {
  if (!isSwiping) return;
  isSwiping = false;

  if (!isHorizontalSwipe) {
    island.classList.remove("show");
    return;
  }

  const distance = currentX - startX;
  const time = Date.now() - startTime;
  const velocity = Math.abs(distance / time);

  // Thresholds to change page
  const minSwipeDist = 50; 
  const minVelocity = 0.5;

  if (distance < -minSwipeDist && (Math.abs(distance) > 80 || velocity > minVelocity)) {
    if (currentPage < totalPages - 1) currentPage++;
  } else if (distance > minSwipeDist && (Math.abs(distance) > 80 || velocity > minVelocity)) {
    if (currentPage > 0) currentPage--;
  }

  goToPage(currentPage);
});

// Desktop Navigation
btnPrev.onclick = () => goToPage(currentPage - 1);
btnNext.onclick = () => goToPage(currentPage + 1);

JOKINext.onclick = () => goToPage(2);

// Initialize
setTranslate(0);
updateDotIndicator(0);

/* ================================
   2. COLLAPSE PANEL LOGIC
   ================================ */
document.querySelectorAll(".link-btn").forEach(btn => {
  btn.addEventListener('click', () => {
    const panel = btn.nextElementSibling;
    const isOpen = panel.classList.contains('open');
    
    // Close all other panels
    document.querySelectorAll('.collapse-panel.open').forEach(p => {
      if(p !== panel) {
        p.classList.remove('open');
        // Update ARIA for accessibility
        p.previousElementSibling.setAttribute('aria-expanded', 'false');
      }
    }); 

    // Toggle current
    panel.classList.toggle('open', !isOpen);
    btn.setAttribute('aria-expanded', !isOpen);
  });
});

/* ================================
   3. API & CODES LOGIC
   ================================ */
const REDEEM_URLS = {
  zzz: code => `https://zenless.hoyoverse.com/redemption?code=${code}`,
  genshin: code => `https://genshin.hoyoverse.com/en/gift?code=${code}`,
  hsr: code => `https://hsr.hoyoverse.com/gift?code=${code}`,
  hi3: code => `https://honkaiimpact3.hoyoverse.com/global/en/home?code=${code}` 
};

const codesContainer = document.getElementById('codes-container');
const tabButtons = document.querySelectorAll('.tab-btn');
let codesData = {};

const BG_IMAGES = {
  zzz: 'url("https://images7.alphacoders.com/130/thumb-1920-1307267.jpg")',
  genshin: 'url("https://fastcdn.hoyoverse.com/content-v2/hk4e/159337/54b493f799071cf2050b919305288d5d_7897117480191368973.jpg")',
  hsr: 'url("https://i.ibb.co.com/VYZ3w3wB/Fyreflies-are-such-magical-creatures-aren-t-they-They-may-throw-themselves-at-a-flame-or-sudden-ups.png")',
  hi3: 'url("https://fastcdn.hoyoverse.com/content-v2/plat/101533/6fbf8271438e536e58169ac01efb0a84_723492315779207397.jpg")' // Example HI3 background
};

const LG_IMAGES = {
  zzz: 'https://i.ibb.co.com/JFcGnZvK/f3.png',
  genshin: 'https://i.ibb.co.com/Nn3J5SnW/1rf.png',
  hsr: 'https://i.ibb.co.com/TDQgJmdk/unnamed.png',
  hi3: 'https://i.ibb.co.com/tTGpYmcr/ewq.png' // Example HI3 logo
};

const UP_IMAGES = {
  G1: 'https://fastcdn.hoyoverse.com/content-v2/hkrpg/161288/62ca11c91b7f48c53a922989c8602b3c_5830406567434764573.png',
  G2: 'https://fastcdn.hoyoverse.com/content-v2/hkrpg/123957/8f37dbc91598d1eebdadca8e9d22a6f6_6237269238409818844.png',
  G3: 'https://fastcdn.hoyoverse.com/content-v2/hkrpg/125610/919a9d47f033fde37dd6aae36e77aa72_8633682211537180049.png'
};

// Fetch Logic
// Replace your existing fetchCodes and renderCodes functions with these:

async function fetchCodes() {
  try {
    // 1. Fetch data for first 3 buttons
    const res = await fetch('https://db.hashblen.com/codes');
    codesData = await res.json();
    
    // 2. Fetch data for the 4th button (Different API)
    const hi3Res = await fetch('https://kodokkyun-project.vercel.app/api/hicode');
    const hi3Data = await hi3Res.json();
    
    // 3. Store the "active" list specifically for HI3
    codesData.hi3 = hi3Data.active; 

    renderCodes('zzz'); // Default to first tab
  } catch (err) {
    console.error("Fetch error:", err);
    codesContainer.innerHTML = `<div class="loading">Error loading codes.</div>`;
  }
}

function renderCodes(game) {
  const codes = codesData[game];
  codesContainer.innerHTML = '';

  if (!codes || codes.length === 0) {
    codesContainer.innerHTML = `<div class="loading">No active codes found.</div>`;
    return;
  }

  codesContainer.innerHTML = codes.map((item, i) => {
    const delay = i * 100;
    
    // LOGIC FOR REWARDS:
    // If it's an array (HI3 API), join with commas. 
    // Otherwise, use the description (Old API).
    let rewardDisplay = "";
    if (item.rewards && Array.isArray(item.rewards)) {
        rewardDisplay = item.rewards.join(', ');
    } else {
        rewardDisplay = item.description || "No description available";
    }

    return `
    <div class="code-card" style="animation-delay: ${delay}ms">
      <div class="code-row">
        <div class="code-text title-font">${item.code}</div>
        <div class="buttons-group">
          <button class="copy-btn title-font" onclick="copyCode('${item.code}')">COPY</button>
          <button class="redeem-btn title-font" onclick="redeemCode('${game}', '${item.code}')">REDEEM</button>
        </div>
      </div>
      <div class="code-desc">${rewardDisplay}</div>
    </div>`;
  }).join('');
}

// Tabs
const page2Element = document.querySelector('.page2');

// Update your existing tab click listener:
tabButtons.forEach(btn => {
  btn.addEventListener('click', () => {
    const game = btn.getAttribute('data-game');
    const logoImg = document.querySelector('.page2 .page-title');

    // 1. Update Background
    if (BG_IMAGES[game]) {
      page2Element.style.backgroundImage = BG_IMAGES[game];
    }

    // 2. Update Logo with Bounce Rotation
    if (logoImg && LG_IMAGES[game]) {
      // Remove class to reset animation
      logoImg.classList.remove('animate-logo');
      
      // Trigger reflow to restart animation
      void logoImg.offsetWidth; 
      
      // Change the source and add the class back
      logoImg.src = LG_IMAGES[game];
      logoImg.classList.add('animate-logo');
    }

    // 3. Update Tabs & Codes
    tabButtons.forEach(b => b.classList.remove('active'));
    btn.classList.add('active');
    renderCodes(game);
  });
});

page2Element.style.backgroundImage = BG_IMAGES['zzz'];

function renderCodes(game) {
  const codes = codesData[game];
  
  // 1. Clear container immediately to reset the view
  codesContainer.innerHTML = '';

  if(!codes || codes.length === 0){
    codesContainer.innerHTML = `<div class="loading" style="animation: fadeInUp 0.4s forwards;">No active codes found.</div>`;
    return;
  }

  // 2. Generate HTML with dynamic animation delay
  // We use the index 'i' to multiply the delay
  codesContainer.innerHTML = codes.map((item, i) => {
    // 1st item waits 0ms, 2nd waits 100ms, 3rd waits 200ms...
    const delay = i * 100; 
    
    return `
    <div class="code-card" style="">
      <div class="code-row">
        <div class="code-text title-font">${item.code}</div>
        <div class="buttons-group">
          <button class="copy-btn title-font" onclick="copyCode('${item.code}')">COPY</button>
          <button class="redeem-btn title-font" onclick="redeemCode('${game}', '${item.code}')">REDEEM</button>
        </div>
      </div>
      <div class="code-desc">${item.description || 'No description'}</div>
    </div>
  `}).join('');
}

// Better Copy Function (Fallback for non-HTTPS)
function copyCode(code) {
  if (navigator.clipboard && window.isSecureContext) {
    navigator.clipboard.writeText(code).then(() => alert(`Copied: ${code}`));
  } else {
    // Fallback logic
    const textArea = document.createElement("textarea");
    textArea.value = code;
    textArea.style.position = "fixed";
    textArea.style.left = "-9999px";
    document.body.appendChild(textArea);
    textArea.focus();
    textArea.select();
    try {
      document.execCommand('copy');
      alert(`Copied: ${code}`);
    } catch (err) {
      alert('Failed to copy manually.');
    }
    document.body.removeChild(textArea);
  }
}

function redeemCode(game, code) {
  window.open(REDEEM_URLS[game](code), '_blank');
}

function togglePanel(btn) {
  const item = btn.parentElement;
  const isActive = item.classList.contains('active');

  // Tutup semua yang lain
  document.querySelectorAll('.link-item').forEach(el => {
    el.classList.remove('active');
  });

  // Toggle yang diklik
  if (!isActive) {
    item.classList.add('active');
  }
}

// Start
fetchCodes();
</script>
<script async src="https://unpkg.com/es-module-shims@1.6.3/dist/es-module-shims.js"></script>

<script type="importmap">
  {
    "imports": {
      "three": "https://unpkg.com/three@0.160.0/build/three.module.js",
      "three/addons/": "https://unpkg.com/three@0.160.0/examples/jsm/"
    }
  }
</script>

<script type="module">
import * as THREE from 'three';
import { GLTFLoader } from 'three/addons/loaders/GLTFLoader.js';

const canvas = document.getElementById('warpCanvas');
const ctx = canvas.getContext('2d');

let width, height, centerX, centerY;
let stars = [];
let constellations = [];
const starCount = 180; 
const baseSpeed = 1.5;
const boostSpeed = 17;
let speed = baseSpeed;
let targetSpeed = baseSpeed;

let scene, camera, renderer;
let spaceObjects = [];
let mixers = []; 
const clock = new THREE.Clock(); 
 
const staticUrls = [
    'https://raw.githubusercontent.com/miyashiro-kun/kodokkyun-project/refs/heads/main/Model/train2.glb',
    'https://raw.githubusercontent.com/miyashiro-kun/kodokkyun-project/refs/heads/main/Model/spaceship.glb'
];
const staticScale = Math.floor(Math.random() * (70 - 10 + 1)) + 10; 

let portal = {
    z: 0,
    maxZ: 0,
    color: '0, 100, 255',
    activeOpacity: 0
};

const patterns = {
    "Aries": [{x:-10,y:0}, {x:0,y:-5}, {x:10,y:5}, {x:15,y:15}],
    "Taurus": [{x:-20,y:-20}, {x:-10,y:-10}, {x:0,y:0}, {x:10,y:-10}, {x:20,y:-20}, {x:0,y:15}, {x:-5,y:25}],
    "Gemini": [{x:-10,y:-20}, {x:-10,y:20}, {x:10,y:20}, {x:10,y:-20}, {x:-10,y:-20}],
    "Cancer": [{x:0,y:0}, {x:0,y:-15}, {x:-15,y:10}, {x:15,y:10}],
    "Leo": [{x:20,y:10}, {x:10,y:20}, {x:-10,y:20}, {x:-20,y:10}, {x:-15,y:-5}, {x:-5,y:-15}, {x:5,y:-5}],
    "Virgo": [{x:0,y:0}, {x:-10,y:15}, {x:10,y:15}, {x:20,y:0}, {x:10,y:-15}, {x:-15,y:-5}],
    "Libra": [{x:0,y:-20}, {x:-15,y:0}, {x:0,y:20}, {x:15,y:0}, {x:0,y:-20}],
    "Scorpio": [{x:20,y:-15}, {x:10,y:-10}, {x:0,y:0}, {x:-5,y:10}, {x:-15,y:15}, {x:-20,y:5}],
    "Sagittarius": [{x:-10,y:10}, {x:10,y:10}, {x:10,y:-10}, {x:-10,y:-10}, {x:-20,y:0}, {x:0,y:20}],
    "Capricorn": [{x:-20,y:-10}, {x:0,y:15}, {x:20,y:-10}, {x:5,y:-20}, {x:-20,y:-10}],
    "Aquarius": [{x:-20,y:10}, {x:-10,y:0}, {x:0,y:10}, {x:10,y:0}, {x:20,y:10}],
    "Pisces": [{x:-20,y:-20}, {x:0,y:0}, {x:20,y:0}, {x:10,y:20}]
};

const colors = ['rgba(130, 200, 255,', 'rgba(100, 255, 230,', 'rgba(255, 255, 255,', 'rgba(180, 150, 255,'];
const portalPalette = ['0, 100, 255', '0, 255, 150', '200, 50, 255', '180, 150, 255'];

function drawSparkle(ctx, cx, cy, outerRadius, innerRadius) {
    ctx.beginPath();
    ctx.moveTo(cx, cy - outerRadius);
    ctx.bezierCurveTo(cx + innerRadius, cy - innerRadius, cx + innerRadius, cy - innerRadius, cx + outerRadius, cy);
    ctx.bezierCurveTo(cx + innerRadius, cy + innerRadius, cx + innerRadius, cy + innerRadius, cx, cy + outerRadius);
    ctx.bezierCurveTo(cx - innerRadius, cy + innerRadius, cx - innerRadius, cy + innerRadius, cx - outerRadius, cy);
    ctx.bezierCurveTo(cx - innerRadius, cy - innerRadius, cx - innerRadius, cy - innerRadius, cx, cy - outerRadius);
    ctx.closePath();
    ctx.fill();
}

class Constellation {
    constructor() { this.reset(); }
    reset() {
        this.z = width + Math.random() * width;
        this.x = (Math.random() - 0.5) * width * 0.8;
        this.y = (Math.random() - 0.5) * height * 0.8;
        const keys = Object.keys(patterns);
        this.points = patterns[keys[Math.floor(Math.random() * keys.length)]];
        this.color = colors[Math.floor(Math.random() * colors.length)];
    }
    update() {
        this.z -= speed;
        if (this.z <= 0) this.reset();
    }
    draw() {
        let scale = (width / 2) / this.z;
        let opacity = Math.min(1, (1 - this.z / width) * 2);
        if (this.z < width) {
            ctx.save();
            ctx.lineWidth = 0.8 * scale;
            ctx.strokeStyle = this.color + (opacity * 0.15) + ')';
            ctx.beginPath();
            this.points.forEach((p, i) => {
                let px = (this.x + p.x) * scale + centerX;
                let py = (this.y + p.y) * scale + centerY;
                if (i === 0) ctx.moveTo(px, py); else ctx.lineTo(px, py);
            });
            ctx.stroke();
            this.points.forEach((p) => {
                let px = (this.x + p.x) * scale + centerX;
                let py = (this.y + p.y) * scale + centerY;
                ctx.shadowBlur = 10 * scale;
                ctx.shadowColor = this.color + '1)';
                let oR = Math.max(0.8, 5 * scale);
                let iR = oR * 0.25;
                ctx.fillStyle = this.color + (opacity * 0.8) + ')';
                drawSparkle(ctx, px, py, oR, iR);
                ctx.fillStyle = `rgba(255, 255, 255, ${opacity})`;
                drawSparkle(ctx, px, py, oR * 0.4, iR * 0.4);
            });
            ctx.restore();
        }
    }
}

function init() {
    width = window.innerWidth; height = window.innerHeight;
    canvas.width = width; canvas.height = height;
    centerX = width / 2; centerY = height / 2;
    portal.maxZ = width;
    portal.z = portal.maxZ; 
    stars = [];
    
    for (let i = 0; i < starCount; i++) {
        stars.push({
            x: Math.random() * width - centerX,
            y: Math.random() * height - centerY,
            z: Math.random() * width,
            px: 0, py: 0,
            color: colors[Math.floor(Math.random() * colors.length)]
        });
    }
    constellations = Array.from({length: 8}, () => new Constellation());
}

function update() {
     speed += (targetSpeed - speed) * 0.1;
    if (targetSpeed === boostSpeed) portal.activeOpacity += (1 - portal.activeOpacity) * 0.05;
    else portal.activeOpacity += (0 - portal.activeOpacity) * 0.1;
    
    
    stars.forEach(s => {
        s.z -= speed;
        if (s.z <= 0) { s.z = width; s.x = Math.random() * width - centerX; s.y = Math.random() * height - centerY; s.px = 0; s.py = 0; }
    });
    constellations.forEach(c => c.update());
    portal.z -= speed * 0.5;
    if (portal.z <= 0) {
        portal.z = portal.maxZ; 
        portal.color = portalPalette[Math.floor(Math.random() * portalPalette.length)];
    }
}

function draw() {
    ctx.fillStyle = 'rgba(0, 0, 0, 0.25)';
    ctx.fillRect(0, 0, width, height);
    
    let portalScale = (portal.maxZ / (portal.z + 1)); 
    let portalRadius = portalScale * 20; 
    let finalOpacity = Math.min(1, (portal.maxZ - portal.z) / (portal.maxZ * 0.2)) * Math.min(1, portal.z / 200) * portal.activeOpacity;

    // 1. Draw Portal (Simplified Gradient)
    if (finalOpacity > 0.01) {
        const grad = ctx.createRadialGradient(centerX, centerY, 0, centerX, centerY, portalRadius);
        grad.addColorStop(0, 'rgba(0, 0, 0, 1)'); 
        grad.addColorStop(0.5, `rgba(${portal.color}, ${0.4 * finalOpacity})`); 
        grad.addColorStop(1, 'rgba(0, 0, 0, 0)'); 
        ctx.fillStyle = grad;
        ctx.beginPath();
        ctx.arc(centerX, centerY, portalRadius, 0, Math.PI * 2);
        ctx.fill();
    }
    stars.forEach(s => {
        let x = (s.x / s.z) * (width / 2) + centerX;
        let y = (s.y / s.z) * (height / 2) + centerY;
        if (s.px !== 0) {
            let op = 1 - (s.z / width);
            ctx.globalAlpha = op * 0.3;
            ctx.strokeStyle = s.color + '1)';
            ctx.lineWidth = op * 8;
            ctx.beginPath(); ctx.moveTo(s.px, s.py); ctx.lineTo(x, y); ctx.stroke();
            ctx.globalAlpha = op; ctx.lineWidth = op * 2; ctx.stroke();
            ctx.globalAlpha = 1;
        }
        s.px = x; s.py = y;
    });
    constellations.forEach(c => c.draw());
    update();
    requestAnimationFrame(draw);
}

const resetSpeed = () => { targetSpeed = baseSpeed; };
const boost = () => { targetSpeed = boostSpeed; };
window.addEventListener('mousedown', boost);
window.addEventListener('mouseup', resetSpeed);
window.addEventListener('touchstart', (e) => { boost(); }, { passive: false });
window.addEventListener('touchend', resetSpeed);
document.addEventListener('visibilitychange', () => { if (document.hidden) resetSpeed(); });
window.addEventListener('resize', init);

init();
draw();

function initPlanet() {
    const container = document.getElementById('threeContainer');
    if(!container) return;
    
    scene = new THREE.Scene();
    camera = new THREE.PerspectiveCamera(75, window.innerWidth / window.innerHeight, 0.1, 1000);
    renderer = new THREE.WebGLRenderer({ antialias: true, alpha: true });
    renderer.setSize(window.innerWidth, window.innerHeight);
    renderer.setPixelRatio(Math.min(window.devicePixelRatio, 2));
    renderer.outputColorSpace = THREE.SRGBColorSpace;
    container.appendChild(renderer.domElement);

    scene.add(new THREE.AmbientLight(0xffffff, 2.0));
    const loader = new GLTFLoader();

    const modelUrls = [
        'https://raw.githubusercontent.com/miyashiro-kun/kodokkyun-project/refs/heads/main/Model/bb.glb',
        'https://raw.githubusercontent.com/miyashiro-kun/kodokkyun-project/refs/heads/main/Model/pom.glb',
        'https://raw.githubusercontent.com/miyashiro-kun/kodokkyun-project/refs/heads/main/Model/paimon_v1.glb',
        'https://raw.githubusercontent.com/miyashiro-kun/kodokkyun-project/refs/heads/main/Model/paimon.glb',
        ...staticUrls
    ];

    modelUrls.forEach((url, index) => {
        loader.load(url, (gltf) => {
            let obj = gltf.scene;
            obj.userData.isStatic = staticUrls.includes(url);

            if (obj.userData.isStatic) {
                obj.userData.baseScale = staticScale;

               if (url.includes('train2.glb')) {
                obj.userData.sideways = true;
                obj.position.x = -window.innerWidth * 0.7;
                obj.position.z = -150;
                obj.userData.sideSpeed = 0.4 + Math.random() * 0.6;
            }
            } else {
                const box = new THREE.Box3().setFromObject(obj);
                const size = box.getSize(new THREE.Vector3()).length();
                obj.userData.baseScale = (6 + Math.random() * 2) / (size || 1); 
            }

            obj.position.z = -((index + 1) * 150 + 400);
            obj.position.x = 0;
            obj.position.y = 0;

            const spreadFactor = obj.userData.isStatic ? 0.14 : 0.015;
            obj.userData.vx = (Math.random() - 0.5) * spreadFactor;
            obj.userData.vy = (Math.random() - 0.5) * spreadFactor;

            if (gltf.animations.length) {
                const mixer = new THREE.AnimationMixer(obj);
                mixer.clipAction(gltf.animations[0]).play();
                mixers.push(mixer);
                obj.userData.hasNativeAnim = true;
            }

            obj.scale.set(0,0,0);
            obj.traverse(n => { if(n.isMesh) { n.material.transparent = true; n.material.opacity = 0; } });
            scene.add(obj);
            spaceObjects.push(obj);
        });
    });
    animate3D();
}

function animate3D() {
    requestAnimationFrame(animate3D);
    const delta = clock.getDelta();
    mixers.forEach(m => m.update(delta));

    spaceObjects.forEach(obj => {
        let moveStep = speed * 0.15;
        obj.position.z += moveStep;
        if (obj.userData.sideways) {
        obj.position.x += obj.userData.sideSpeed * speed;

        // reset when off right screen
        if (obj.position.x > window.innerWidth * 0.7) {
            obj.position.x = -window.innerWidth * 0.7;
        }
    } else {
        obj.position.x += obj.userData.vx * speed;
        obj.position.y += obj.userData.vy * speed;
    }

        if (obj.userData.vx !== undefined) {
            obj.position.x += obj.userData.vx * (speed * 0.4);
            obj.position.y += obj.userData.vy * (speed * 0.4);
        }

        if (!obj.userData.isStatic && !obj.userData.hasNativeAnim) {
            obj.rotation.y += 0.02;
            obj.rotation.z += 0.01;
        } else if (obj.userData.isStatic) {
            obj.rotation.z = obj.userData.vx * 6; 
        }

        const horizonZ = -600;
        const fullSizeZ = -50;
        let progress = Math.max(0, Math.min(1, (obj.position.z - horizonZ) / (fullSizeZ - horizonZ)));
        
        let s = obj.userData.baseScale * progress;
        obj.scale.set(s, s, s);

        let alpha = Math.min(1, progress * 1.5);
        const exitPoint = obj.userData.isStatic ? 80 : 25;
        if (obj.position.z > 5) alpha = 1 - (obj.position.z / 20);
        obj.traverse(n => { if(n.isMesh) n.material.opacity = alpha; });

        if (obj.position.z > 45) {
            obj.position.z = -600 - (Math.random() * 300);
            obj.position.x = 0;
            obj.position.y = 0;
            const spread = obj.userData.isStatic ? 0.14 : 0.015;
            obj.userData.vx = (Math.random() - 0.5) * spread;
            obj.userData.vy = (Math.random() - 0.5) * spread;
        }
    });
    renderer.render(scene, camera);
}
initPlanet();
</script>
</body>
</html>
